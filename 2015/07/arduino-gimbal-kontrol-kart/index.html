<!doctype html><html class="not-ready lg:text-base" style=--bg:#fbfbfb lang=en dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>[TR] Arduino Gimbal Kontrol Kartı - M.Ozan Unal</title>
<meta name=theme-color><meta name=description content="Herkese Merhabalar,
Daha önce kolay bulunabilecek malzemelerden nasıl gimbal yapılabileceğinden bahsetmiştim (O yazıya buradan ulaşabiliriniz). Kontrol kartını sonra anlatacağım demiştim. Veee bu yazımda arduino ve MPU6050 sensörü kullanarak nasıl bir gimbal kontrol kartı yapabileceğimizden bahsedeceğim. Bu kart sayesinde gimbalin yere göre açısını kontrol edebileceğiz. Yere göre açısının sabit kalmasını da kontrol kartı üzerindeki IMU sensörü ile sağlayacağız(Ayrıntılı bilgi için tıklayınız). Kontrol kartı saniyede 100 değer okuyup servo PWM değerlerini ona göre güncelliyor. Bu sayede oldukça yüksek çözünürlüklü her türlü seviyede kullanılabilecek bir kontrol kartı yapmış oluyoruz. Ayrıca başa koyduğum ayar parametreleri sayesinde her boyutta ve çeşitte servo gimbale kolayca uyumlu hale getirilebilir. Kontrol kartının tanıtım videosu aşağıdadır."><meta name=author content="Mehmet Ozan Ünal"><link rel="preload stylesheet" as=style href=https://mozanunal.com/main.min.css><link rel=preload as=image href=https://mozanunal.com/theme.svg><link rel=preload as=image href="https://www.gravatar.com/avatar/998cbd3ab655239d8be787580cce0415?s=160&amp;d=identicon"><link rel=preload as=image href=https://mozanunal.com/twitter.svg><link rel=preload as=image href=https://mozanunal.com/github.svg><link rel=preload as=image href=https://mozanunal.com/instagram.svg><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css integrity=sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",()=>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1}))</script><link rel=icon href=https://mozanunal.com/favicon.ico><link rel=apple-touch-icon href=https://mozanunal.com/apple-touch-icon.png><meta name=generator content="Hugo 0.138.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-007KSW65JL"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-007KSW65JL")}</script><meta itemprop=name content="[TR] Arduino Gimbal Kontrol Kartı"><meta itemprop=description content="Herkese Merhabalar,
Daha önce kolay bulunabilecek malzemelerden nasıl gimbal yapılabileceğinden bahsetmiştim (O yazıya buradan ulaşabiliriniz). Kontrol kartını sonra anlatacağım demiştim. Veee bu yazımda arduino ve MPU6050 sensörü kullanarak nasıl bir gimbal kontrol kartı yapabileceğimizden bahsedeceğim. Bu kart sayesinde gimbalin yere göre açısını kontrol edebileceğiz. Yere göre açısının sabit kalmasını da kontrol kartı üzerindeki IMU sensörü ile sağlayacağız(Ayrıntılı bilgi için tıklayınız). Kontrol kartı saniyede 100 değer okuyup servo PWM değerlerini ona göre güncelliyor. Bu sayede oldukça yüksek çözünürlüklü her türlü seviyede kullanılabilecek bir kontrol kartı yapmış oluyoruz. Ayrıca başa koyduğum ayar parametreleri sayesinde her boyutta ve çeşitte servo gimbale kolayca uyumlu hale getirilebilir. Kontrol kartının tanıtım videosu aşağıdadır."><meta itemprop=datePublished content="2015-07-04T03:30:00+00:00"><meta itemprop=dateModified content="2015-07-04T03:30:00+00:00"><meta itemprop=wordCount content="369"><meta itemprop=keywords content="Arduino Gimbal,Arduino Mpu6050,Arduino Projeleri,Hava Araçları,Imu Gimbal Stabilizasyonu"><meta property="og:url" content="https://mozanunal.com/2015/07/arduino-gimbal-kontrol-kart/"><meta property="og:site_name" content="M.Ozan Unal"><meta property="og:title" content="[TR] Arduino Gimbal Kontrol Kartı"><meta property="og:description" content="Herkese Merhabalar,
Daha önce kolay bulunabilecek malzemelerden nasıl gimbal yapılabileceğinden bahsetmiştim (O yazıya buradan ulaşabiliriniz). Kontrol kartını sonra anlatacağım demiştim. Veee bu yazımda arduino ve MPU6050 sensörü kullanarak nasıl bir gimbal kontrol kartı yapabileceğimizden bahsedeceğim. Bu kart sayesinde gimbalin yere göre açısını kontrol edebileceğiz. Yere göre açısının sabit kalmasını da kontrol kartı üzerindeki IMU sensörü ile sağlayacağız(Ayrıntılı bilgi için tıklayınız). Kontrol kartı saniyede 100 değer okuyup servo PWM değerlerini ona göre güncelliyor. Bu sayede oldukça yüksek çözünürlüklü her türlü seviyede kullanılabilecek bir kontrol kartı yapmış oluyoruz. Ayrıca başa koyduğum ayar parametreleri sayesinde her boyutta ve çeşitte servo gimbale kolayca uyumlu hale getirilebilir. Kontrol kartının tanıtım videosu aşağıdadır."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-07-04T03:30:00+00:00"><meta property="article:modified_time" content="2015-07-04T03:30:00+00:00"><meta property="article:tag" content="Arduino Gimbal"><meta property="article:tag" content="Arduino Mpu6050"><meta property="article:tag" content="Arduino Projeleri"><meta property="article:tag" content="Hava Araçları"><meta property="article:tag" content="Imu Gimbal Stabilizasyonu"><meta name=twitter:card content="summary"><meta name=twitter:title content="[TR] Arduino Gimbal Kontrol Kartı"><meta name=twitter:description content="Herkese Merhabalar,
Daha önce kolay bulunabilecek malzemelerden nasıl gimbal yapılabileceğinden bahsetmiştim (O yazıya buradan ulaşabiliriniz). Kontrol kartını sonra anlatacağım demiştim. Veee bu yazımda arduino ve MPU6050 sensörü kullanarak nasıl bir gimbal kontrol kartı yapabileceğimizden bahsedeceğim. Bu kart sayesinde gimbalin yere göre açısını kontrol edebileceğiz. Yere göre açısının sabit kalmasını da kontrol kartı üzerindeki IMU sensörü ile sağlayacağız(Ayrıntılı bilgi için tıklayınız). Kontrol kartı saniyede 100 değer okuyup servo PWM değerlerini ona göre güncelliyor. Bu sayede oldukça yüksek çözünürlüklü her türlü seviyede kullanılabilecek bir kontrol kartı yapmış oluyoruz. Ayrıca başa koyduğum ayar parametreleri sayesinde her boyutta ve çeşitte servo gimbale kolayca uyumlu hale getirilebilir. Kontrol kartının tanıtım videosu aşağıdadır."><link rel=canonical href=https://mozanunal.com/2015/07/arduino-gimbal-kontrol-kart/></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[4.5rem] max-w-[--w] px-8 lg:justify-center"><div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center"><a class="-translate-y-[1px] text-2xl font-medium" href=https://mozanunal.com/>M.Ozan Unal</a><div class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]" role=button aria-label=Dark></div></div><div class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg="#fbfbfb".replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse"><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal" href=/about/>About</a>
<a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal" href=/contact/>Contact</a></nav><nav class="mt-12 flex justify-center space-x-10 rtl:space-x-reverse dark:invert ltr:lg:ml-14 rtl:lg:mr-14 lg:mt-0 lg:items-center"><a class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/MOzanUnal target=_blank rel=me>twitter
</a><a class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/mozanunal target=_blank rel=me>github
</a><a class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/mozanunal target=_blank rel=me>instagram</a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-[--w] px-8 pb-16 pt-14 dark:prose-invert"><article><header class=mb-14><h1 class="!my-0 pb-2.5">[TR] Arduino Gimbal Kontrol Kartı</h1><div class="text-xs antialiased opacity-60"><time>Jul 4, 2015</time>
<span class=mx-1>&#183;</span>
<span>Mehmet Ozan Ünal</span></div></header><section><p><strong>Herkese Merhabalar,</strong></p><p>Daha önce kolay bulunabilecek malzemelerden nasıl gimbal yapılabileceğinden bahsetmiştim (<a href=https://mozanunal.com/2015/06/2-eksenli-servo-gimbal-yapm/>O yazıya buradan ulaşabiliriniz</a>). Kontrol kartını sonra anlatacağım demiştim. Veee bu yazımda arduino ve MPU6050 sensörü kullanarak nasıl bir gimbal kontrol kartı yapabileceğimizden bahsedeceğim. Bu kart sayesinde gimbalin yere göre açısını kontrol edebileceğiz. Yere göre açısının sabit kalmasını da kontrol kartı üzerindeki IMU sensörü ile sağlayacağız(<a href=https://mozanunal.com/2014/11/imu-aclarnn-3-boyutlu-olarak/>Ayrıntılı bilgi için tıklayınız</a>). Kontrol kartı saniyede 100 değer okuyup servo PWM değerlerini ona göre güncelliyor. Bu sayede oldukça yüksek çözünürlüklü her türlü seviyede kullanılabilecek bir kontrol kartı yapmış oluyoruz. Ayrıca başa koyduğum ayar parametreleri sayesinde her boyutta ve çeşitte servo gimbale kolayca uyumlu hale getirilebilir. Kontrol kartının tanıtım videosu aşağıdadır.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube-nocookie.com/embed/MnfJcTREYPo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><p>Bağlantılara gelecek olursak MPU6050 I2C pinlerinden arduinoya bağlanıyor. Gnd pini gndye, Vcc pini ise 3.3 volta bağlanıyor. Çalışma voltajı 3.3 volt olduğu için. Servoların sinyal pinlerini ayarlardan seçtiğimiz dijital pinlere bağlıyoruz. Servoların beslemesi eğer küçük servolar ise arduino üzerinden eğer yüksek akım çeken servolarsa harici olarak yapabilirsiniz. Fakat harici besleme yaparsanız arduino ve güç kaynağının topraklarını eşitlemeyi unutmayın.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#6272a4>////////////////////Ayarlar////////////////  
</span></span></span><span style=display:flex><span><span style=color:#6272a4>//pitch  
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#8be9fd>int</span> p_pin<span style=color:#ff79c6>=</span><span style=color:#bd93f9>8</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_neturalpos<span style=color:#ff79c6>=</span><span style=color:#bd93f9>90</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_gain<span style=color:#ff79c6>=</span><span style=color:#bd93f9>1</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_min<span style=color:#ff79c6>=</span><span style=color:#bd93f9>30</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_max<span style=color:#ff79c6>=</span><span style=color:#bd93f9>150</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_reverse<span style=color:#ff79c6>=</span><span style=color:#bd93f9>0</span>;  
</span></span><span style=display:flex><span><span style=color:#6272a4>//roll  
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#8be9fd>int</span> r_pin<span style=color:#ff79c6>=</span><span style=color:#bd93f9>9</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_neturalpos<span style=color:#ff79c6>=</span><span style=color:#bd93f9>90</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_gain<span style=color:#ff79c6>=</span><span style=color:#bd93f9>1</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_min<span style=color:#ff79c6>=</span><span style=color:#bd93f9>30</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_max<span style=color:#ff79c6>=</span><span style=color:#bd93f9>150</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_reverse<span style=color:#ff79c6>=</span><span style=color:#bd93f9>0</span>;  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>///////////////////////////////////////////////
</span></span></span></code></pre></div><p>Bunlar, koddaki ayar parametreleri, çeşitli gimballere kolay adapte edilebilmesi içindir. İlk pozisyonunu, en düşük, en yüksek servo açılarını, kazancını bu parametrelerle kontrol edeceğiz. Kazanç ise kontrol kartındaki açı değişimlerinin servoya kaçla çarpılarak yansıtılacağının parametresidir.&ldquo;Reverse&rdquo; değişkeni &ldquo;1&rdquo; veya &ldquo;0&rdquo; yapılarak yönün ters çevirilmesi sağlanabilir. Benim gimbalim için &ldquo;Pitch&rdquo; eksenini ters yapmam gerekmişti.</p><p><strong>Sistemin Fotoğrafları</strong></p><p><img src=https://2.bp.blogspot.com/-tPAYzOfRh8Y/VZbhzOoEt3I/AAAAAAAAMsw/lg5YNJs2Gl4/s720/IMG_20150703_170713.jpg alt></p><p><img src=https://4.bp.blogspot.com/-SGgaLhyZB5o/VZbhyrpIPvI/AAAAAAAAMss/fUO7DeUM9gA/s720/IMG_20150703_170813.jpg alt></p><p><strong>Projenin full kaynak kodu:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;I2Cdev.h&gt;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;MPU60X0.h&gt;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;EEPROM.h&gt;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&#34;DebugUtils.h&#34;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&#34;CommunicationUtils.h&#34;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&#34;FreeIMU.h&#34;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;Wire.h&gt;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;SPI.h&gt;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;Servo.h&gt;</span><span style=color:#ff79c6>  
</span></span></span><span style=display:flex><span><span style=color:#ff79c6></span><span style=color:#6272a4>////////////////////Ayarlar////////////////  
</span></span></span><span style=display:flex><span><span style=color:#6272a4>//pitch  
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#8be9fd>int</span> p_pin<span style=color:#ff79c6>=</span><span style=color:#bd93f9>8</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_neturalpos<span style=color:#ff79c6>=</span><span style=color:#bd93f9>90</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_gain<span style=color:#ff79c6>=</span><span style=color:#bd93f9>1</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_min<span style=color:#ff79c6>=</span><span style=color:#bd93f9>30</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_max<span style=color:#ff79c6>=</span><span style=color:#bd93f9>150</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_reverse<span style=color:#ff79c6>=</span><span style=color:#bd93f9>0</span>;  
</span></span><span style=display:flex><span><span style=color:#6272a4>//roll  
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#8be9fd>int</span> r_pin<span style=color:#ff79c6>=</span><span style=color:#bd93f9>9</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_neturalpos<span style=color:#ff79c6>=</span><span style=color:#bd93f9>90</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_gain<span style=color:#ff79c6>=</span><span style=color:#bd93f9>1</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_min<span style=color:#ff79c6>=</span><span style=color:#bd93f9>30</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_max<span style=color:#ff79c6>=</span><span style=color:#bd93f9>150</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_reverse<span style=color:#ff79c6>=</span><span style=color:#bd93f9>0</span>;  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>///////////////////////////////////////////////  
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>Servo pitchservo;  
</span></span><span style=display:flex><span>Servo rollservo;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> p_angle<span style=color:#ff79c6>=</span><span style=color:#bd93f9>90</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> r_angle<span style=color:#ff79c6>=</span><span style=color:#bd93f9>90</span>;  
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> raw_values[<span style=color:#bd93f9>9</span>];  
</span></span><span style=display:flex><span><span style=color:#8be9fd>float</span> ypr[<span style=color:#bd93f9>3</span>]; <span style=color:#6272a4>// yaw pitch roll  
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#8be9fd>float</span> val[<span style=color:#bd93f9>9</span>];  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>FreeIMU my3IMU <span style=color:#ff79c6>=</span> FreeIMU();  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>setup</span>() {  
</span></span><span style=display:flex><span>  Serial.begin(<span style=color:#bd93f9>115200</span>);  
</span></span><span style=display:flex><span>  pitchservo.attach(p_pin);  
</span></span><span style=display:flex><span>  rollservo.attach(r_pin);  
</span></span><span style=display:flex><span>  Wire.begin();  
</span></span><span style=display:flex><span>  delay(<span style=color:#bd93f9>5</span>);  
</span></span><span style=display:flex><span>  my3IMU.init();  
</span></span><span style=display:flex><span>  delay(<span style=color:#bd93f9>5</span>);  
</span></span><span style=display:flex><span>}  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>loop</span>() {  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  my3IMU.getYawPitchRoll(ypr);  
</span></span><span style=display:flex><span>  Serial.print(<span style=color:#f1fa8c>&#34;Yaw: &#34;</span>);  
</span></span><span style=display:flex><span>  Serial.print(ypr[<span style=color:#bd93f9>0</span>]);  
</span></span><span style=display:flex><span>  Serial.print(<span style=color:#f1fa8c>&#34; Pitch: &#34;</span>);  
</span></span><span style=display:flex><span>  Serial.print(ypr[<span style=color:#bd93f9>1</span>]);  
</span></span><span style=display:flex><span>  Serial.print(<span style=color:#f1fa8c>&#34; Roll: &#34;</span>);  
</span></span><span style=display:flex><span>  Serial.print(ypr[<span style=color:#bd93f9>2</span>]);  
</span></span><span style=display:flex><span>  Serial.println(<span style=color:#f1fa8c>&#34;&#34;</span>);  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  p_angle<span style=color:#ff79c6>=</span>p_neturalpos<span style=color:#ff79c6>+</span>ypr[<span style=color:#bd93f9>1</span>]<span style=color:#ff79c6>*</span>p_gain;  
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>if</span>(p_angle<span style=color:#ff79c6>&gt;</span>p_max){  
</span></span><span style=display:flex><span>    p_angle<span style=color:#ff79c6>=</span>p_max;  
</span></span><span style=display:flex><span>  }  
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>if</span>(p_angle<span style=color:#ff79c6>&lt;</span>p_min){  
</span></span><span style=display:flex><span>    p_angle<span style=color:#ff79c6>=</span>p_min;  
</span></span><span style=display:flex><span>  }  
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>if</span>(p_reverse<span style=color:#ff79c6>=</span><span style=color:#bd93f9>1</span>){  
</span></span><span style=display:flex><span>    p_angle<span style=color:#ff79c6>=</span><span style=color:#bd93f9>180</span><span style=color:#ff79c6>-</span>p_angle;  
</span></span><span style=display:flex><span>  }  
</span></span><span style=display:flex><span>  pitchservo.write(p_angle);  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  r_angle<span style=color:#ff79c6>=</span>r_neturalpos<span style=color:#ff79c6>+</span>ypr[<span style=color:#bd93f9>2</span>]<span style=color:#ff79c6>*</span>r_gain;  
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>if</span>(r_angle<span style=color:#ff79c6>&gt;</span>r_max){  
</span></span><span style=display:flex><span>    r_angle<span style=color:#ff79c6>=</span>r_max;  
</span></span><span style=display:flex><span>  }  
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>if</span>(r_angle<span style=color:#ff79c6>&lt;</span>r_min){  
</span></span><span style=display:flex><span>    r_angle<span style=color:#ff79c6>=</span>r_min;  
</span></span><span style=display:flex><span>  }  
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>if</span>(r_reverse<span style=color:#ff79c6>=</span><span style=color:#bd93f9>1</span>){  
</span></span><span style=display:flex><span>    r_angle<span style=color:#ff79c6>=</span><span style=color:#bd93f9>180</span><span style=color:#ff79c6>-</span>r_angle;  
</span></span><span style=display:flex><span>  }  
</span></span><span style=display:flex><span>  rollservo.write(r_angle);  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  delay(<span style=color:#bd93f9>10</span>);  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><footer class="mt-12 flex flex-wrap"><a class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://mozanunal.com/tags/arduino-gimbal>Arduino Gimbal</a>
<a class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://mozanunal.com/tags/arduino-mpu6050>arduino mpu6050</a>
<a class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://mozanunal.com/tags/arduino-projeleri>Arduino Projeleri</a>
<a class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://mozanunal.com/tags/hava-ara%C3%A7lar%C4%B1>Hava Araçları</a>
<a class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://mozanunal.com/tags/imu-gimbal-stabilizasyonu>Imu gimbal stabilizasyonu</a></footer><nav class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg !leading-[1.2] *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"><a class="ltr:pr-3 rtl:pl-3" href=https://mozanunal.com/2015/07/multikopterler-icin-pid-kontrol/><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>[TR] Multikopterler için PID kontrol</span></a>
<a class="ltr:ml-auto rtl:mr-auto justify-end pl-3" href=https://mozanunal.com/2015/06/youtube-arka-plan-muzik-dinleyici/><span>[TR] Youtube Arka Plan Müzik Dinleyici</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a></nav></article></main><footer class="mx-auto flex h-[4.5rem] max-w-[--w] items-center px-8 text-xs uppercase tracking-wider opacity-60"><div class=mr-auto>Copyright © 2014–2024</div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>powered by hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>hugo-paper</a></footer></body></html>