<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=description content="Personal website of M. Ozan Unal: posts, projects, and papers."><link rel=canonical href=https://mozanunal.com/2018/04/getir-hackhathon/><link id=theme-style rel=stylesheet href=/css/classless.min.8cab153b82e5aafc291eef9470a782c75788db9fb12621ab48065a61682f0d2a.css integrity="sha256-jKsVO4LlqvwpHu+UcKeCx1eI25+xJiGrSAZaYWgvDSo="><link id=theme-style-dark rel=stylesheet href=/css/classless-dark.min.dfcff79e61518a7cd7fadd9ff9d784690eb5c3fc94e6d93e636ba054ec8e0ff1.css integrity="sha256-38/3nmFRinzX+t2f+deEaQ61w/yU5tk+Y2ugVOyOD/E=" media="(prefers-color-scheme: dark)"><style>#skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}#skip-link:focus{position:static;width:auto;height:auto;overflow:visible;padding:.5rem}pre code,code{-webkit-text-size-adjust:100%;text-size-adjust:100%}img{display:block;margin-left:auto;margin-right:auto}figcaption{display:block;margin-left:auto;margin-right:auto}header nav{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;overflow:visible;padding:.5rem 0;margin-bottom:1rem;font-size:1.25rem}header nav ul{display:flex;list-style:none;padding:0;margin:0;gap:0;align-items:center}header nav ul li+li::before{content:"|";padding:0 .4rem;opacity:.4}header nav a.active{font-weight:700;text-decoration:underline;text-underline-offset:.2em}@media(max-width:600px){header nav{flex-direction:column;align-items:flex-start;gap:.5rem}}.dark-mode-toggle{background:0 0;border:none;cursor:pointer;padding:.25rem;margin:0;min-height:auto;min-width:auto;display:inline-flex;align-items:center;justify-content:center;color:var(--body-color);border-radius:var(--border-radius);transition:var(--transition-base);box-shadow:none;line-height:1}.dark-mode-toggle:hover{opacity:.7;box-shadow:none}.dark-mode-toggle:active{transform:none;box-shadow:none;filter:none}.dark-mode-toggle:hover::after{background-color:initial}.dark-mode-toggle svg{width:1.25rem;height:1.25rem;fill:currentColor}.dark-mode-toggle .icon-sun{display:none}.dark-mode-toggle .icon-moon{display:none}.dark-mode-toggle .icon-system{display:block}html[data-theme=light] .dark-mode-toggle .icon-sun{display:block}html[data-theme=light] .dark-mode-toggle .icon-moon{display:none}html[data-theme=light] .dark-mode-toggle .icon-system{display:none}html[data-theme=dark] .dark-mode-toggle .icon-sun{display:none}html[data-theme=dark] .dark-mode-toggle .icon-moon{display:block}html[data-theme=dark] .dark-mode-toggle .icon-system{display:none}</style><link id=syntax-light rel=stylesheet href=/css/syntax-light.min.d1e9974bf1fe0f3bfae6a7af3a04c1e749276b8efbbf6d3397998585f82443f0.css media="(prefers-color-scheme: light)"><link id=syntax-dark rel=stylesheet href=/css/syntax-dark.min.22964c63865be9217cedda7ac3dbd0143f8f41b3a0f681ef71e845b18a33a4f3.css media="(prefers-color-scheme: dark)"><title>[TR] Hackhathon Getir 2018 | mozanunal.com</title><link rel=icon href=/favicon.svg type=image/svg+xml><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon href=/apple-touch-icon.png><meta property="og:title" content="[TR] Hackhathon Getir 2018"><meta property="og:description" content="Personal website of M. Ozan Unal: posts, projects, and papers."><meta property="og:type" content="article"><meta property="og:url" content="https://mozanunal.com/2018/04/getir-hackhathon/"><meta property="og:site_name" content="mozanunal.com"><meta property="article:published_time" content="2018-04-16T18:10:04Z"><meta property="article:modified_time" content="2018-04-16T18:10:04Z"><meta property="article:tag" content="hackhathon"><meta property="article:tag" content="getir"><meta property="article:tag" content="angularjs"><meta property="article:tag" content="nodejs"><meta property="article:tag" content="route"><meta property="article:tag" content="google map api"><meta name=twitter:card content="summary"><meta name=twitter:title content="[TR] Hackhathon Getir 2018"><meta name=twitter:description content="Personal website of M. Ozan Unal: posts, projects, and papers."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","author":{"@type":"Person","name":"M.Ozan Unal"},"dateModified":"2018-04-16T18:10:04Z","datePublished":"2018-04-16T18:10:04Z","description":" It is a project developed for BiTaksi Getir Hackathon 2018. Detailed information can be found from below.\nTeam Paketci! Check our app from here which is …","headline":"[TR] Hackhathon Getir 2018"}</script></head><body><a id=skip-link href=#main-content>Skip to content</a><header><nav aria-label="Main navigation"><ul><li><strong>mozanunal.com</strong></li></ul><ul><li><a href=/>Home</a></li><li><a href=/posts/ class=active aria-current=page>Posts</a></li><li><a href=/projects/>Projects</a></li><li><a href=/papers/>Papers</a></li><li><button class=dark-mode-toggle id=dark-mode-toggle aria-label="Toggle color scheme" title="Toggle color scheme">
<svg class="icon-moon" viewBox="0 0 24 24" fill="currentColor"><path d="M21.752 15.002A9.718 9.718.0 0118 15.75c-5.385.0-9.75-4.365-9.75-9.75.0-1.33.266-2.597.748-3.752A9.753 9.753.0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753.0 009.002-5.998z"/></svg>
<svg class="icon-sun" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75.0 01.75.75v2.25a.75.75.0 01-1.5.0V3a.75.75.0 01.75-.75zM7.5 12a4.5 4.5.0 119 0 4.5 4.5.0 01-9 0zM18.894 6.166a.75.75.0 00-1.06-1.06l-1.591 1.59a.75.75.0 101.06 1.061l1.591-1.59zM21.75 12a.75.75.0 01-.75.75h-2.25a.75.75.0 010-1.5H21a.75.75.0 01.75.75zm-3.916 6.894a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 10-1.061 1.06l1.59 1.591zM12 18a.75.75.0 01.75.75V21a.75.75.0 01-1.5.0v-2.25A.75.75.0 0112 18zM7.758 17.303a.75.75.0 00-1.061-1.06l-1.591 1.59a.75.75.0 001.06 1.061l1.591-1.59zM6 12a.75.75.0 01-.75.75H3a.75.75.0 010-1.5h2.25A.75.75.0 016 12zm.697-4.243a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 00-1.061 1.06l1.59 1.591z"/></svg>
<svg class="icon-system" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 5.25a3 3 0 013-3h13.5a3 3 0 013 3V15a3 3 0 01-3 3h-3v.75A.75.75.0 0115 19.5H9a.75.75.0 01-.75-.75V18h-3a3 3 0 01-3-3V5.25zm1.5.0a1.5 1.5.0 011.5-1.5h13.5a1.5 1.5.0 011.5 1.5V15a1.5 1.5.0 01-1.5 1.5H5.25A1.5 1.5.0 013.75 15V5.25z" clip-rule="evenodd"/></svg></button></li><script>(function(){var e,o,t="hugo-classless-color-scheme";function n(e,t,n,s){if(!e)return;t==="dark"?e.media=s:t==="light"?e.media=n:e.media=e.getAttribute("data-default-media")||""}function s(e){document.documentElement.setAttribute("data-theme",e);var t,s=document.getElementById("syntax-light"),o=document.getElementById("syntax-dark");n(s,e,"all","not all"),n(o,e,"not all","all"),t=document.getElementById("theme-style-dark"),n(t,e,"not all","all")}function i(){["syntax-light","syntax-dark","theme-style-dark"].forEach(function(e){var t=document.getElementById(e);t&&!t.getAttribute("data-default-media")&&t.setAttribute("data-default-media",t.media||"")})}e=null;try{e=localStorage.getItem(t)}catch{}o=e==="light"||e==="dark"?e:"system",document.documentElement.setAttribute("data-theme",o),document.addEventListener("DOMContentLoaded",function(){i(),s(o);var e=document.getElementById("dark-mode-toggle");if(!e)return;e.addEventListener("click",function(){var e,n=document.documentElement.getAttribute("data-theme");n==="light"?e="dark":n==="dark"?e="system":e="light",s(e);try{e==="system"?localStorage.removeItem(t):localStorage.setItem(t,e)}catch{}})}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(){document.documentElement.getAttribute("data-theme")==="system"&&s("system")})})()</script></ul></nav></header><main id=main-content><article><p style=margin-bottom:0><a href=/>mozanunal.com</a>&nbsp;/&nbsp;<a href=https://mozanunal.com/posts/>Posts</a>&nbsp;/&nbsp;[TR] Hackhathon Getir 2018</p><h1>[TR] Hackhathon Getir 2018</h1><p><em><time datetime=2018-04-16>April 16, 2018</time>
&#183; 3 min read</em></p><details><summary>Table of Contents</summary><nav id=TableOfContents><ul><li><ul><li><a href=#features>Features:</a></li><li><a href=#used-libraries-and-api-in-frontend>Used Libraries and API in frontend</a></li><li><a href=#compleated-part-of-frontend>Compleated Part of Frontend</a></li></ul></li><li><a href=#backend>Backend</a></li><li><a href=#route-optimization>Route Optimization</a></li></ul></nav></details><div><blockquote><p>It is a project developed for BiTaksi Getir Hackathon 2018. Detailed
information can be found from below.</p></blockquote><h1 id=team-paketci>Team Paketci!</h1><p><a href=https://hackhathon-getir-2018.herokuapp.com/>Check our app from here</a> which is
deployed using heroku.</p><p><a href=https://github.com/mozanunal/paketci-backend>Check github repo of app from here</a></p><p><img src="https://github.com/mozanunal/paketci-backend/blob/master/doctimeLine.PNG?raw=true" alt="Timeline of our little project!"></p><p>Getir Hackhathon 2018 Team Members: Sertan Sezgin Kutlu Ertuğrul Çınar Mehmet
Ozan Ünal</p><h1 id=paketci-app>Paketci App</h1><p>Its a work on pack collection and delivery for courier and observer.</p><h3 id=features>Features:</h3><p>By Backend: 1.Assign routes for couries by relate most efficent path. 2.Update
states of packets. 3.Update states of couriers.</p><p>By Frontend 1.Courier see waypoints and pack to collect. 2.Observers see all
couriers and pack states. 3.Adding new packs</p><h3 id=used-libraries-and-api-in-frontend>Used Libraries and API in frontend</h3><p>1.Android Libraries 2.Java 3.Volley 4.Google Maps Directions API 5.Google Maps
Javascript API 6.AngularJS</p><h3 id=compleated-part-of-frontend>Compleated Part of Frontend</h3><p>Application is designed for used by cariers. It gave users to see which way
courier should go and where to take packs.</p><p>In order to make it more stable, decions of disturbution made at backend in
order to keep system stable for all users, this app communacte with backend by
using asyncrounous http requests.</p><p>For async HTTPS requess, it been used Volley library in JSON Object and String
responsed GET and POST requests.</p><p>App takes missions from backend and by communicating with Google Direcitons API,
get caluclations of every shorth path waypoints which collect and carry pointed
packs in missions and drawing them on a Map View.</p><p>In angular web app we see all packs and couriers with their missions and routes.
Its allows users to add new packs to environment.</p><h2 id=backend>Backend</h2><p><img src="https://github.com/mozanunal/paketci-backend/blob/master/docbackEndContainer.png?raw=true" alt="enter image description here">
Data structure and Crud Outputs Sample JSON files, it can be enchance according
to packet number and courier number</p><p>/api/courier</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;initLocation&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73726833204571</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.86816435821093</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;curLocation&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73726833204571</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.86816435821093</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;weightCapacity&#34;</span><span class=o>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;remainingWeightCapacity&#34;</span><span class=o>:</span> <span class=mf>18.2923904630732</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pieceCapacity&#34;</span><span class=o>:</span> <span class=mi>8</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;remainingPieceCapacity&#34;</span><span class=o>:</span> <span class=mi>7</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;routes&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;routeFromGoogle&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;distance&#34;</span><span class=o>:</span> <span class=mf>0.02248501759660298</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;startLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73726833204571</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.86816435821093</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;endLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73287234594392</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84611325115227</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;nearPacketsDistance&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=o>-</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;state&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;routeFromGoogle&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;distance&#34;</span><span class=o>:</span> <span class=mf>0.01372524844602735</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;startLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73287234594392</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84611325115227</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;endLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.745843583374935</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84162666621344</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;nearPacketsDistance&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=o>-</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;state&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;packets&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;initLocation&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73287234594392</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84611325115227</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;destLocation&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.745843583374935</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84162666621344</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;weight&#34;</span><span class=o>:</span> <span class=mf>1.707609536926801</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;state&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;courier&#34;</span><span class=o>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>}];</span>
</span></span></code></pre></div><p>/api/packet</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;initLocation&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73287234594392</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84611325115227</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;destLocation&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.745843583374935</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84162666621344</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;weight&#34;</span><span class=o>:</span> <span class=mf>1.707609536926801</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;state&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;courier&#34;</span><span class=o>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span></code></pre></div><p>/api/route</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;routeFromGoogle&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;distance&#34;</span><span class=o>:</span> <span class=mf>0.027888779677731172</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;startLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73726833204571</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.86816435821093</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;endLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.745843583374935</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84162666621344</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nearPacketsDistance&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;state&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;routeFromGoogle&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;distance&#34;</span><span class=o>:</span> <span class=mf>0.02248501759660298</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;startLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73726833204571</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.86816435821093</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;endLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73287234594392</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84611325115227</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nearPacketsDistance&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;state&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;routeFromGoogle&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;distance&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;startLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73287234594392</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84611325115227</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;endLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73287234594392</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84611325115227</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nearPacketsDistance&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;state&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span><span class=o>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;routeFromGoogle&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;distance&#34;</span><span class=o>:</span> <span class=mf>0.01372524844602735</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;startLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.73287234594392</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84611325115227</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;endLoc&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>40.745843583374935</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;long&#34;</span><span class=o>:</span> <span class=o>-</span><span class=mf>111.84162666621344</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nearPacketsDistance&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;state&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}];</span>
</span></span></code></pre></div><h2 id=route-optimization>Route Optimization</h2><p><img src="https://github.com/mozanunal/paketci-backend/blob/master/docrouteOptimizeAlgrotihmVisualize.gif?raw=true" alt="enter image description here">
Firstly, every courier has a route to common destination point. Then most
efficient package route change apply. It&rsquo;s calculated with change of route
distance according to package location. It will iterate until no package will
left. But according to courier capacities, some of package can be over couriers'
capacities; so you need to go second round.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=s2>&#34;dependencies&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;body-parser&#34;</span><span class=o>:</span> <span class=s2>&#34;~1.18.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;cookie-parser&#34;</span><span class=o>:</span> <span class=s2>&#34;~1.4.3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;debug&#34;</span><span class=o>:</span> <span class=s2>&#34;~2.6.9&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;express&#34;</span><span class=o>:</span> <span class=s2>&#34;~4.15.5&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;mathjs&#34;</span><span class=o>:</span> <span class=s2>&#34;^3.20.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;point-line-distance&#34;</span><span class=o>:</span> <span class=s2>&#34;^1.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;google_directions&#34;</span><span class=o>:</span> <span class=s2>&#34;^0.6.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;polyline&#34;</span><span class=o>:</span> <span class=s2>&#34;^0.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;request&#34;</span><span class=o>:</span> <span class=s2>&#34;^2.83.0&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></div></div><hr><p><strong>Tags:</strong><a href=https://mozanunal.com/tags/hackhathon/>Hackhathon</a>, <a href=https://mozanunal.com/tags/getir/>Getir</a>, <a href=https://mozanunal.com/tags/angularjs/>Angularjs</a>, <a href=https://mozanunal.com/tags/nodejs/>Nodejs</a>, <a href=https://mozanunal.com/tags/route/>Route</a>, <a href=https://mozanunal.com/tags/google-map-api/>Google Map Api</a></p><hr><h3>Related Posts</h3><ul><li><a href=https://mozanunal.com/2018/04/hash-code-2018/>[TR] Hash Code 2018</a></li></ul><hr><p><a href=https://mozanunal.com/2018/04/hash-code-2018/>&larr; [TR] Hash Code 2018</a> | <a href=https://mozanunal.com/2018/04/google-docs-data-collection/>[TR] En Basit IOT Bulut Sistemi: Google Forms &rarr;</a></p></article></main><footer><p>&copy; 2026 M.Ozan Unal.</p></footer></body><link rel=stylesheet href=/libs/katex/katex.min.v0.16.9.css><script defer src=/libs/katex/katex.min.v0.16.9.js></script><script defer src=/libs/katex/auto-render.v0.16.9.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-007KSW65JL"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-007KSW65JL")}</script></html>