<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=description content="Personal website of M. Ozan Unal: posts, projects, and papers."><link rel=canonical href=https://mozanunal.com/2018/04/hash-code-2018/><link id=theme-style rel=stylesheet href=/css/classless.min.8cab153b82e5aafc291eef9470a782c75788db9fb12621ab48065a61682f0d2a.css integrity="sha256-jKsVO4LlqvwpHu+UcKeCx1eI25+xJiGrSAZaYWgvDSo="><link id=theme-style-dark rel=stylesheet href=/css/classless-dark.min.dfcff79e61518a7cd7fadd9ff9d784690eb5c3fc94e6d93e636ba054ec8e0ff1.css integrity="sha256-38/3nmFRinzX+t2f+deEaQ61w/yU5tk+Y2ugVOyOD/E=" media="(prefers-color-scheme: dark)"><style>#skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}#skip-link:focus{position:static;width:auto;height:auto;overflow:visible;padding:.5rem}pre code,code{-webkit-text-size-adjust:100%;text-size-adjust:100%}img{display:block;margin-left:auto;margin-right:auto}figcaption{display:block;margin-left:auto;margin-right:auto}header nav{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;overflow:visible;padding:.5rem 0;margin-bottom:1rem;font-size:1.25rem}header nav ul{display:flex;list-style:none;padding:0;margin:0;gap:0;align-items:center}header nav ul li+li::before{content:"|";padding:0 .4rem;opacity:.4}header nav a.active{font-weight:700;text-decoration:underline;text-underline-offset:.2em}@media(max-width:600px){header nav{flex-direction:column;align-items:flex-start;gap:.5rem}}.dark-mode-toggle{background:0 0;border:none;cursor:pointer;padding:.25rem;margin:0;min-height:auto;min-width:auto;display:inline-flex;align-items:center;justify-content:center;color:var(--body-color);border-radius:var(--border-radius);transition:var(--transition-base);box-shadow:none;line-height:1}.dark-mode-toggle:hover{opacity:.7;box-shadow:none}.dark-mode-toggle:active{transform:none;box-shadow:none;filter:none}.dark-mode-toggle:hover::after{background-color:initial}.dark-mode-toggle svg{width:1.25rem;height:1.25rem;fill:currentColor}.dark-mode-toggle .icon-sun{display:none}.dark-mode-toggle .icon-moon{display:none}.dark-mode-toggle .icon-system{display:block}html[data-theme=light] .dark-mode-toggle .icon-sun{display:block}html[data-theme=light] .dark-mode-toggle .icon-moon{display:none}html[data-theme=light] .dark-mode-toggle .icon-system{display:none}html[data-theme=dark] .dark-mode-toggle .icon-sun{display:none}html[data-theme=dark] .dark-mode-toggle .icon-moon{display:block}html[data-theme=dark] .dark-mode-toggle .icon-system{display:none}</style><link id=syntax-light rel=stylesheet href=/css/syntax-light.min.d1e9974bf1fe0f3bfae6a7af3a04c1e749276b8efbbf6d3397998585f82443f0.css media="(prefers-color-scheme: light)"><link id=syntax-dark rel=stylesheet href=/css/syntax-dark.min.22964c63865be9217cedda7ac3dbd0143f8f41b3a0f681ef71e845b18a33a4f3.css media="(prefers-color-scheme: dark)"><title>[TR] Hash Code 2018 | mozanunal.com</title><link rel=icon href=/favicon.svg type=image/svg+xml><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon href=/apple-touch-icon.png><meta property="og:title" content="[TR] Hash Code 2018"><meta property="og:description" content="Personal website of M. Ozan Unal: posts, projects, and papers."><meta property="og:type" content="article"><meta property="og:url" content="https://mozanunal.com/2018/04/hash-code-2018/"><meta property="og:site_name" content="mozanunal.com"><meta property="article:published_time" content="2018-04-08T00:45:01Z"><meta property="article:modified_time" content="2018-04-08T00:45:01Z"><meta property="article:tag" content="hackhathon"><meta property="article:tag" content="hashcode2018"><meta name=twitter:card content="summary"><meta name=twitter:title content="[TR] Hash Code 2018"><meta name=twitter:description content="Personal website of M. Ozan Unal: posts, projects, and papers."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","author":{"@type":"Person","name":"M.Ozan Unal"},"dateModified":"2018-04-08T00:45:01Z","datePublished":"2018-04-08T00:45:01Z","description":"Herkese Merhabalar, Hash Code Google tarafından dünya çapında düzenlenen bir algoritma yarışmasıdır. Bu yıl itibariyle son 3 tanesine ben de katılmış …","headline":"[TR] Hash Code 2018"}</script></head><body><a id=skip-link href=#main-content>Skip to content</a><header><nav aria-label="Main navigation"><ul><li><strong>mozanunal.com</strong></li></ul><ul><li><a href=/>Home</a></li><li><a href=/posts/ class=active aria-current=page>Posts</a></li><li><a href=/projects/>Projects</a></li><li><a href=/papers/>Papers</a></li><li><button class=dark-mode-toggle id=dark-mode-toggle aria-label="Toggle color scheme" title="Toggle color scheme">
<svg class="icon-moon" viewBox="0 0 24 24" fill="currentColor"><path d="M21.752 15.002A9.718 9.718.0 0118 15.75c-5.385.0-9.75-4.365-9.75-9.75.0-1.33.266-2.597.748-3.752A9.753 9.753.0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753.0 009.002-5.998z"/></svg>
<svg class="icon-sun" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75.0 01.75.75v2.25a.75.75.0 01-1.5.0V3a.75.75.0 01.75-.75zM7.5 12a4.5 4.5.0 119 0 4.5 4.5.0 01-9 0zM18.894 6.166a.75.75.0 00-1.06-1.06l-1.591 1.59a.75.75.0 101.06 1.061l1.591-1.59zM21.75 12a.75.75.0 01-.75.75h-2.25a.75.75.0 010-1.5H21a.75.75.0 01.75.75zm-3.916 6.894a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 10-1.061 1.06l1.59 1.591zM12 18a.75.75.0 01.75.75V21a.75.75.0 01-1.5.0v-2.25A.75.75.0 0112 18zM7.758 17.303a.75.75.0 00-1.061-1.06l-1.591 1.59a.75.75.0 001.06 1.061l1.591-1.59zM6 12a.75.75.0 01-.75.75H3a.75.75.0 010-1.5h2.25A.75.75.0 016 12zm.697-4.243a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 00-1.061 1.06l1.59 1.591z"/></svg>
<svg class="icon-system" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 5.25a3 3 0 013-3h13.5a3 3 0 013 3V15a3 3 0 01-3 3h-3v.75A.75.75.0 0115 19.5H9a.75.75.0 01-.75-.75V18h-3a3 3 0 01-3-3V5.25zm1.5.0a1.5 1.5.0 011.5-1.5h13.5a1.5 1.5.0 011.5 1.5V15a1.5 1.5.0 01-1.5 1.5H5.25A1.5 1.5.0 013.75 15V5.25z" clip-rule="evenodd"/></svg></button></li><script>(function(){var e,o,t="hugo-classless-color-scheme";function n(e,t,n,s){if(!e)return;t==="dark"?e.media=s:t==="light"?e.media=n:e.media=e.getAttribute("data-default-media")||""}function s(e){document.documentElement.setAttribute("data-theme",e);var t,s=document.getElementById("syntax-light"),o=document.getElementById("syntax-dark");n(s,e,"all","not all"),n(o,e,"not all","all"),t=document.getElementById("theme-style-dark"),n(t,e,"not all","all")}function i(){["syntax-light","syntax-dark","theme-style-dark"].forEach(function(e){var t=document.getElementById(e);t&&!t.getAttribute("data-default-media")&&t.setAttribute("data-default-media",t.media||"")})}e=null;try{e=localStorage.getItem(t)}catch{}o=e==="light"||e==="dark"?e:"system",document.documentElement.setAttribute("data-theme",o),document.addEventListener("DOMContentLoaded",function(){i(),s(o);var e=document.getElementById("dark-mode-toggle");if(!e)return;e.addEventListener("click",function(){var e,n=document.documentElement.getAttribute("data-theme");n==="light"?e="dark":n==="dark"?e="system":e="light",s(e);try{e==="system"?localStorage.removeItem(t):localStorage.setItem(t,e)}catch{}})}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(){document.documentElement.getAttribute("data-theme")==="system"&&s("system")})})()</script></ul></nav></header><main id=main-content><article><p style=margin-bottom:0><a href=/>mozanunal.com</a>&nbsp;/&nbsp;<a href=https://mozanunal.com/posts/>Posts</a>&nbsp;/&nbsp;[TR] Hash Code 2018</p><h1>[TR] Hash Code 2018</h1><p><em><time datetime=2018-04-08>April 8, 2018</time>
&#183; 4 min read</em></p><div><p><strong>Herkese Merhabalar,</strong> Hash Code Google tarafından dünya çapında düzenlenen bir
algoritma yarışmasıdır. Bu yıl itibariyle son 3 tanesine ben de katılmış
bulunuyorum. Hatta geçen sene yarışma hakkında bir yazı da yazmıştım. Bu
geleneği bu yıl da devam ettirmeye karar verdım.</p><p>Bu seneki yarışmada çok başarılı olamadık derece anlamında. Ama yarışmada
çalışan, puan alabilen bir çözüm sunmak bile baya zor. O nedenle ben de çözümüzü
birazcık açıklamak istiyorum. Aşağıdan direk github reposunu inceleyebilirsiniz.
<a href=https://github.com/mozanunal/hashcode-2018-qualificationQuestion>Github Repo</a></p><p><img src=https://i.ytimg.com/vi/BCv_7yXNuP4/maxresdefault.jpg alt></p><p>Yarışmada şunu yapmamız istendi: Belli bir zamanda bir yerden bir yere gitmesi
gereken yolcular var. Elimizde yolcuları taşımak üzere arabalar var. Hangi araba
ne zaman nerede olacak hangi yolcuları alacak bunu optimize etmemiz isteniyor.</p><p>Aşağıdaki dosyada point ve map classı tanımlanmış. Bir de mesefa hesaplayan bir
fonksiyon eklenmiş durumda.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>calcStep</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>abs</span><span class=p>(</span><span class=n>a</span><span class=o>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>b</span><span class=o>.</span><span class=n>x</span> <span class=p>)</span> <span class=o>+</span> <span class=nb>abs</span><span class=p>(</span><span class=n>a</span><span class=o>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>b</span><span class=o>.</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Point</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Map</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>R</span><span class=p>,</span><span class=n>C</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>R</span> <span class=o>=</span> <span class=n>R</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>C</span> <span class=o>=</span> <span class=n>C</span>
</span></span></code></pre></div><p>Burada &ldquo;Ride&rdquo; objesi tanımlanmış durumda. &ldquo;Ride&rdquo; için gerekli argumanlar
başlangıç-bitiş noktaları ve zamanları. Bu girdilere göre bir kaç tane de daha
özellik <strong>init</strong> fonksiyonunda oluşturuluyor.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>mapH</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Ride</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ride_id</span><span class=p>,</span> <span class=n>start_intersection</span><span class=p>,</span> <span class=n>finish_intersection</span><span class=p>,</span> <span class=n>earliest_start</span><span class=p>,</span> <span class=n>latest_finish</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>id</span> <span class=o>=</span> <span class=n>ride_id</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>start_intersection</span> <span class=o>=</span> <span class=n>start_intersection</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>finish_intersection</span> <span class=o>=</span> <span class=n>finish_intersection</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>earliest_start</span> <span class=o>=</span> <span class=n>earliest_start</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>latest_finish</span> <span class=o>=</span> <span class=n>latest_finish</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stepSize</span> <span class=o>=</span> <span class=n>calcStep</span><span class=p>(</span><span class=n>start_intersection</span><span class=p>,</span><span class=n>finish_intersection</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>earliest_finish</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>earliest_start</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>stepSize</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>latest_start</span> <span class=o>=</span>  <span class=bp>self</span><span class=o>.</span><span class=n>latest_finish</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>stepSize</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>printRide</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-----Ride id: &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>id</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-start &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>start_intersection</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>start_intersection</span><span class=o>.</span><span class=n>y</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-finish: &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>finish_intersection</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>finish_intersection</span><span class=o>.</span><span class=n>y</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-start steps: &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>earliest_start</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>latest_start</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-distance: &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>stepSize</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-finish steps: &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>earliest_finish</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>latest_finish</span>
</span></span></code></pre></div><p>Aşağıdaki dosya temel işlemlerimizin yapıldığı araba objesi. Buradaki en kritik
fonksiyon &ldquo;findRide&rdquo; fonksiyonu. Biz çözümümüzü şu şekilde tasarladık:
Simulasyon benzeri bir şey çalıştırıyoruz t = 0 anından başlanarak tüm arabalara
ilk konumlarına ve &ldquo;Ride&rdquo; durumuna göre iş atanıyor. Sonra simulasyon t = 1
anına geçiyor. Eğer boşa çıkmış araba varsa tekrar ona iş atayım sonraki t anına
geçiş yapıyor. Bu şekilde zamanı simüle etmiş oluyoruz ve boşa çıkan arabaya
hemen iş atanıyor.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>mapH</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Car</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=nb>id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>id</span> <span class=o>=</span> <span class=nb>id</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>currentPos</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>rides</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>willBeIdleTime</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>printCar</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-----Car id: &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>id</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-pos &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>currentPos</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>currentPos</span><span class=o>.</span><span class=n>y</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-status: &#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>status</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;-rides&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>rides</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>findRide</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>Rides</span><span class=p>,</span> <span class=n>stepNow</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>costs</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>costs_rides</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>ride</span> <span class=ow>in</span> <span class=n>Rides</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>ride</span><span class=o>.</span><span class=n>status</span> <span class=ow>is</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>stepCost</span> <span class=o>=</span> <span class=n>calcStep</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>currentPos</span><span class=p>,</span> <span class=n>ride</span><span class=o>.</span><span class=n>start_intersection</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span> <span class=n>stepNow</span><span class=o>+</span><span class=p>(</span><span class=n>stepCost</span><span class=o>+</span><span class=n>ride</span><span class=o>.</span><span class=n>stepSize</span><span class=p>)</span> <span class=p>)</span> <span class=o>&lt;</span> <span class=n>ride</span><span class=o>.</span><span class=n>latest_finish</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=p>(</span><span class=n>stepNow</span><span class=o>+</span><span class=n>stepCost</span><span class=p>)</span> <span class=o>&gt;</span> <span class=n>ride</span><span class=o>.</span><span class=n>earliest_start</span><span class=p>:</span> <span class=c1># direk al git</span>
</span></span><span class=line><span class=cl>                        <span class=n>costs</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>stepCost</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=n>costs_rides</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>ride</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>else</span><span class=p>:</span> <span class=c1># beklemeli cost</span>
</span></span><span class=line><span class=cl>                        <span class=n>costs</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>ride</span><span class=o>.</span><span class=n>earliest_start</span><span class=o>-</span><span class=n>stepNow</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=n>costs_rides</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>ride</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>costs</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>darr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>costs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>selected_ride</span> <span class=o>=</span> <span class=n>costs_rides</span><span class=p>[</span><span class=n>darr</span><span class=o>.</span><span class=n>argmin</span><span class=p>()]</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>rides</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>selected_ride</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>Rides</span><span class=p>[</span><span class=n>selected_ride</span><span class=o>.</span><span class=n>id</span><span class=p>]</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>willBeIdleTime</span> <span class=o>=</span> <span class=n>stepNow</span><span class=o>+</span><span class=p>(</span><span class=n>stepCost</span><span class=o>+</span><span class=n>ride</span><span class=o>.</span><span class=n>stepSize</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>willBeIdleTime</span> <span class=o>=</span> <span class=mi>1000000</span>
</span></span></code></pre></div><p>Son olarak ana giriş dosyamız. Bu kod ile gerekli veri verilen dataset
dosyalarından okunuyor ve kurguladığımız sisteme uygun hale getirilip objeler
oluşturuluyor. Daha sonrasında önceden bahsettiğim simülasyon kısmı
çalıştırılıyor ve çıktıları çıkış dosyasına yazılıyor yarışma tarafından verilen
formatta. Evet bu yazı için benden bu kadar. Eğer anlamadığınız merak ettiğiniz
yerler var ise kodla alakalı sorabilirsiniz. Son sözlerim olarak bu yarışmayı
herkese tavsiye ediyorum. Gerçekten zorlayıcı ve geliştirici bir yarışma.
Süreniz 4 saat oluyor ve stres altında doğru düşünme yeteneğinizi geliştirmeniz
için sizi itekliyor. Bir diğer önemli unsur da beraber çalışma. Takımınızla
doğru görev paylaşımını yapmanız gerek. Bireysel çalışarak iyi sonuçlar
alınabilecek bir yarışma olduğunu düşünmüyorum. Tekrar görüşmek üzere&mldr;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>ride</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>car</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>mapH</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#&#34;data/c_no_hurry.in&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#&#34;data/b_should_be_easy.in&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#&#34;data/a_example.in&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#&#34;data/d_metropolis.in&#34;</span>
</span></span><span class=line><span class=cl><span class=n>FILENAME</span> <span class=o>=</span> <span class=s2>&#34;data/d_metropolis.in&#34;</span>
</span></span><span class=line><span class=cl><span class=n>Rides</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>Cars</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=n>FILENAME</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>line1</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># R number of rows of the grid</span>
</span></span><span class=line><span class=cl><span class=c1># C number of columns of the grid</span>
</span></span><span class=line><span class=cl><span class=c1># F number of vehicles in the fleet</span>
</span></span><span class=line><span class=cl><span class=c1># N number of rides</span>
</span></span><span class=line><span class=cl><span class=c1># B per-ride bonus for starting the ride on time</span>
</span></span><span class=line><span class=cl><span class=c1># T number of steps in the simulation</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>values</span> <span class=o>=</span> <span class=n>line1</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>number_of_rows</span><span class=p>,</span> <span class=n>number_of_columns</span><span class=p>,</span> <span class=n>number_of_vehicles</span><span class=p>,</span> <span class=n>number_of_rides</span><span class=p>,</span> <span class=n>per_ride_bonus</span><span class=p>,</span> <span class=n>number_of_steps</span> <span class=o>=</span> <span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>v</span><span class=p>)</span> <span class=k>for</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>values</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=s1>&#39;number_of_rows&#39;</span><span class=p>,</span> <span class=s1>&#39;number_of_columns&#39;</span><span class=p>,</span> <span class=s1>&#39;number_of_vehicles&#39;</span><span class=p>,</span> <span class=s1>&#39;number_of_rides&#39;</span><span class=p>,</span> <span class=s1>&#39;per_ride_bonus&#39;</span><span class=p>,</span> <span class=s1>&#39;number_of_steps&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=n>number_of_rows</span><span class=p>,</span> <span class=n>number_of_columns</span><span class=p>,</span> <span class=n>number_of_vehicles</span><span class=p>,</span> <span class=n>number_of_rides</span><span class=p>,</span> <span class=n>per_ride_bonus</span><span class=p>,</span> <span class=n>number_of_steps</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>id</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>file</span><span class=o>.</span><span class=n>readlines</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>x1</span><span class=p>,</span> <span class=n>y1</span><span class=p>,</span> <span class=n>x2</span><span class=p>,</span> <span class=n>y2</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=n>startPoint</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=n>x1</span><span class=p>,</span> <span class=n>y1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>endPoint</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=n>x2</span><span class=p>,</span> <span class=n>y2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>curRide</span> <span class=o>=</span> <span class=n>Ride</span><span class=p>(</span><span class=nb>id</span><span class=p>,</span> <span class=n>startPoint</span><span class=p>,</span> <span class=n>endPoint</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1>#curRide.printRide()</span>
</span></span><span class=line><span class=cl>    <span class=n>Rides</span><span class=o>.</span><span class=n>append</span><span class=p>(</span> <span class=n>curRide</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>=</span> <span class=nb>id</span><span class=o>+</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>number_of_vehicles</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>Cars</span><span class=o>.</span><span class=n>append</span><span class=p>(</span> <span class=n>Car</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>solve</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>number_of_steps</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>stepNow</span> <span class=o>=</span> <span class=n>i</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>i</span> <span class=o>%</span> <span class=mi>1000</span> <span class=ow>is</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span> <span class=s2>&#34;Sim step&#34;</span><span class=p>,</span> <span class=n>stepNow</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>car</span> <span class=ow>in</span> <span class=n>Cars</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>car</span><span class=o>.</span><span class=n>willBeIdleTime</span> <span class=o>&lt;=</span> <span class=n>stepNow</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>car</span><span class=o>.</span><span class=n>findRide</span><span class=p>(</span><span class=n>Rides</span><span class=p>,</span><span class=n>stepNow</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>printResult</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=s2>&#34;RESULT_________&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span><span class=o>=</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>car</span> <span class=ow>in</span> <span class=n>Cars</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>line</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>car</span><span class=o>.</span><span class=n>rides</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>car</span><span class=o>.</span><span class=n>rides</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>line</span><span class=o>+=</span><span class=s2>&#34; &#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>line</span><span class=o>+=</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span><span class=o>+=</span><span class=n>line</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=n>FILENAME</span><span class=o>+</span> <span class=s2>&#34;.out&#34;</span><span class=p>,</span><span class=s2>&#34;w+&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>file</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>file</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=s2>&#34;done&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>solve</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>printResult</span><span class=p>()</span>
</span></span></code></pre></div></div><hr><p><strong>Tags:</strong><a href=https://mozanunal.com/tags/hackhathon/>Hackhathon</a>, <a href=https://mozanunal.com/tags/hashcode2018/>Hashcode2018</a></p><hr><p><a href=https://mozanunal.com/2018/03/gnu-radio-giris/>&larr; [TR] GNU Radio Giriş</a> | <a href=https://mozanunal.com/2018/04/getir-hackhathon/>[TR] Hackhathon Getir 2018 &rarr;</a></p></article></main><footer><p>&copy; 2026 M.Ozan Unal.</p></footer></body><link rel=stylesheet href=/libs/katex/katex.min.v0.16.9.css><script defer src=/libs/katex/katex.min.v0.16.9.js></script><script defer src=/libs/katex/auto-render.v0.16.9.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-007KSW65JL"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-007KSW65JL")}</script></html>