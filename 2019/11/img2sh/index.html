<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Show Images Directly on Terminal: img2sh | mozanunal.com</title><meta name=keywords content="linux,yazilim,bash script,ubuntu"><meta name=description content="Img2sh
Hello there,
In this post, I want to tell a brief story of how I have created a tool named img2sh. It is also my first python package which is published over PyPI. In this very post, I will try to answer questions like:
How is it developed?
What are the challenges?
How should a package created and deployed over PyPI?
Let&rsquo;s continue!
Img2sh is a tool to show images directly on the terminal. For colored images, 256 xterm color support is required. This script basically resizes the image with anti-aliasing and quantized its colors to xterm color pallette. Github repository of the project can be reached from here"><meta name=author content="M.Ozan Unal"><link rel=canonical href=https://mozanunal.com/2019/11/img2sh/><meta name=google-site-verification content="G-007KSW65JL"><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://mozanunal.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mozanunal.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mozanunal.com/favicon-32x32.png><link rel=apple-touch-icon href=https://mozanunal.com/apple-touch-icon.png><link rel=mask-icon href=https://mozanunal.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://mozanunal.com/2019/11/img2sh/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-007KSW65JL"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-007KSW65JL")}</script><meta property="og:url" content="https://mozanunal.com/2019/11/img2sh/"><meta property="og:site_name" content="mozanunal.com"><meta property="og:title" content="Show Images Directly on Terminal: img2sh"><meta property="og:description" content="Img2sh Hello there,
In this post, I want to tell a brief story of how I have created a tool named img2sh. It is also my first python package which is published over PyPI. In this very post, I will try to answer questions like: How is it developed? What are the challenges? How should a package created and deployed over PyPI? Let’s continue!
Img2sh is a tool to show images directly on the terminal. For colored images, 256 xterm color support is required. This script basically resizes the image with anti-aliasing and quantized its colors to xterm color pallette. Github repository of the project can be reached from here"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-11-03T10:48:19+00:00"><meta property="article:modified_time" content="2019-11-03T10:48:19+00:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Yazilim"><meta property="article:tag" content="Bash Script"><meta property="article:tag" content="Ubuntu"><meta property="og:image" content="https://mozanunal.com/images/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mozanunal.com/images/papermod-cover.png"><meta name=twitter:title content="Show Images Directly on Terminal: img2sh"><meta name=twitter:description content="Img2sh
Hello there,
In this post, I want to tell a brief story of how I have created a tool named img2sh. It is also my first python package which is published over PyPI. In this very post, I will try to answer questions like:
How is it developed?
What are the challenges?
How should a package created and deployed over PyPI?
Let&rsquo;s continue!
Img2sh is a tool to show images directly on the terminal. For colored images, 256 xterm color support is required. This script basically resizes the image with anti-aliasing and quantized its colors to xterm color pallette. Github repository of the project can be reached from here"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://mozanunal.com/posts/"},{"@type":"ListItem","position":2,"name":"Show Images Directly on Terminal: img2sh","item":"https://mozanunal.com/2019/11/img2sh/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Show Images Directly on Terminal: img2sh","name":"Show Images Directly on Terminal: img2sh","description":"Img2sh Hello there,\nIn this post, I want to tell a brief story of how I have created a tool named img2sh. It is also my first python package which is published over PyPI. In this very post, I will try to answer questions like: How is it developed? What are the challenges? How should a package created and deployed over PyPI? Let\u0026rsquo;s continue!\nImg2sh is a tool to show images directly on the terminal. For colored images, 256 xterm color support is required. This script basically resizes the image with anti-aliasing and quantized its colors to xterm color pallette. Github repository of the project can be reached from here\n","keywords":["linux","yazilim","bash script","ubuntu"],"articleBody":"Img2sh Hello there,\nIn this post, I want to tell a brief story of how I have created a tool named img2sh. It is also my first python package which is published over PyPI. In this very post, I will try to answer questions like: How is it developed? What are the challenges? How should a package created and deployed over PyPI? Let’s continue!\nImg2sh is a tool to show images directly on the terminal. For colored images, 256 xterm color support is required. This script basically resizes the image with anti-aliasing and quantized its colors to xterm color pallette. Github repository of the project can be reached from here\nDemo Testing the package is super easy. Install using pip and run.\n1 2 pip install img2sh --user img2sh demo.jpeg Result:\nInteractive mode\n1 2 3 4 5 img2sh demo.jpeg -w 80 -i q: quit z: zoom+ x: zoom- c: reset arrow keys for navigation cmd: q For detailed usage arguments:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ python img2sh/cli.py --help usage: cli.py [-h] [-w WIDTH] [-i] Image Show images directly on terminal. positional arguments: Image the directory of the image which will be opened optional arguments: -h, --help show this help message and exit -w WIDTH, --width WIDTH image width on the terminal -i, --interactive open image in interactive mode Story As it can be understood from its name, img2sh is a python app to show images directly in the terminal. I think it could be helpful when connected over ssh to a server with no desktop environment. The images can be examined quickly on the terminal screen. While the tool was developed, the followings are the challenges I have encountered.\nImages In the digital world, images are made of pixels. Pixel is the smallest part of the image which can contain only one color. Color changes with the pixel intensity values. To keep it simple, I added a grayscale image to illustrate the pixel concept. It is a quite low resolution, grayscale image. Pixel values are shown in the following image. Pixel intensity values are changing with how far the pixel value close to black or white.\nColored images basically work with the same concept. The difference is colored images are usually indicated with 3 different pixel values which are red, blue and green. By this method, the proportion of these color intensity is changed to show different colors on screen.\nColors in terminal How the coloring mechanism works in the terminal should be figured out to implement this app. I understood clearly how colors are handling in an image using the following link. After that, I have found colored python module which provides support for colored terminal output from python apps. I implement the colors using this library.\nhttp://jafrog.com/2013/11/23/colors-in-terminal.html\nParsing command-line arguments How should the command line arguments be parsed? Actually it is quite easy with python. Let’s examine the next code block:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import argparse parser = argparse.ArgumentParser( description='Show images directly on terminal.') parser.add_argument(\"Image\", help=\"the directory of the image which will be opened\") parser.add_argument( \"-w\", \"--width\", help=\"image width on the terminal\", type=int ) parser.add_argument( \"-i\", \"--interactive\", default=False, action='store_true', help=\"open image in interactive mode\", ) args = parser.parse_args() After the initialization, arguments can be used with commands like args.width. The arguments can be configured as mandatory or optional and the type of argument also be specified. This package is a pretty useful and standard package that is widely used most of the python projects.\nImage formats For further improvement in the project, it should be solved how different image formats can handle. Fortunately, Pillow package can handle various kinds of image formats such as jpeg, png, tiff. This packet can provide pixel values for different image types using the same get_pixel method interface. However, the problem is the dimension of the color values are representing. At standard jpeg a pixel value is represented with 24 bits which are 3 bytes. Each byte value represents a different color channels Red, Blue, and Green. Png differs from the alpha channel. At PNG images, colors are created with 4 bytes. Red, Blue, Green, and Alpha. Alpha is the transparency channel of the image. So the dimension of the pixel is different. But this problem is easily solved in findNearestColor function. In these functions, the dimension of the pixel is handled.\nSetup.py In this section, I will try to answer the question that how to create a setup.py file which supports also entry point and can be executed without python shell. Setup.py file is used to define the python package metadata and its installation instructions.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 from setuptools import setup, find_packages with open('requirements.txt') as f: requirements = f.read().splitlines() setup( name='img2sh', version=__import__('img2sh').__version__, install_requires=requirements, description=( 'Show images directly on terminal using Xterm colors.' ), long_description=open('README.md').read(), long_description_content_type='text/markdown', author=\"Mehmet Ozan Unal\", author_email='mehmetozanunal@gmail.com', maintainer=\"Mehmet Ozan Unal\", maintainer_email='mehmetozanunal@gmail.com', license=\"MIT\", packages=find_packages(), platforms=[\"all\"], url='https://github.com/mozanunal/img2sh', classifiers=[ 'Development Status :: 4 - Beta', 'Operating System :: OS Independent', 'Intended Audience :: Developers', 'License :: OSI Approved :: BSD License', 'Programming Language :: Python', 'Programming Language :: Python :: Implementation', 'Programming Language :: Python :: 2', 'Programming Language :: Python :: 2.7', 'Programming Language :: Python :: 3', 'Programming Language :: Python :: 3.4', 'Programming Language :: Python :: 3.5', 'Programming Language :: Python :: 3.6', 'Programming Language :: Python :: 3.7', 'Topic :: Software Development :: Libraries' ], entry_points={ 'console_scripts': ['img2sh=img2sh.cli:main'], }, ) The entry points of the module can be specified with specifying entry_points property of the object. It is defined as console script and first, the name of the executable should be written. It should be mapped to the executable python function. In my case, it is img2sh:cli:main.\nThere are useful tricks in the code block also. For example, you do not have to write a whole long description of this file. It can be read from different files like README.md. It is the same for your requirements. It still can be read from requirements.txt but with one condition. These files should be specified in the MANIFEST.in file.\nMANIFEST.in\n1 2 3 include README.md include requirements.txt include LICENCE The following link great resource to create a setup.py file. I learned from here. You should check it out. https://python-packaging.readthedocs.io/en/latest/everything.html\nUploading python package As you may already know, python packages are usually distributed using PyPI servers. When we use the pip package manager in default, packages are downloaded from this server. In this project, I want that my package can be installed over PyPI. So I created a PyPI account and upload my package there.\nto Uploading the PyPI package actually quite simple. The following commands are required to create a package from a module and to upload it to PyPI servers.\n1 2 python setup.py sdist bdist_wheel twine upload --repository-url https://upload.pypi.org/legacy/ dist/* Optimizing performance How can be the performance of the tool optimized? In the first prototype, the code is written with simple logic. This causes too much processing time because of the for loops inside it. The following code part is written to find the nearest color inside a palette. The function loops in pallette and tries to find the smallest distance. In version 2, I implement it using numpy package. The operation executes in vectorial form and its execution time decreased exponentially. v1\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 def findNearestColor(color, pallette): distances = [] if len(color) == 3: (colorr, colorg, colorb) = color elif len(color) == 4: (colorr, colorg, colorb, alpha) = color if alpha == 0: return None # pallette.index((255,255,255)) for c in pallette: (cr, cg, cb) = c distances.append( (colorr-cr)**2 + (colorg-cg)**2 + (colorb-cb)**2 ) return distances.index(min(distances)) v2\n1 2 3 4 5 6 7 8 9 10 11 12 def findNearestColor(color, pallette): distances = [] if len(color) == 3: (colorr, colorg, colorb) = color elif len(color) == 4: (colorr, colorg, colorb, alpha) = color if alpha == 0: return None # pallette.index((255,255,255)) c = (colorr, colorg, colorb) diff = pallette - c diffSum = np.sum( np.square(diff), axis=1) return np.argmin(diffSum) 1 2 3 4 5 6 7 8 9 # for v1 real 0m2,618s user 0m2,519s sys 0m0,080s # for v2 real 0m1,690s user 0m1,892s sys 0m0,417s Thank you for your interest. See you later…\nAcknowledges This package is developed using:\nPillow colored ","wordCount":"1443","inLanguage":"en","image":"https://mozanunal.com/images/papermod-cover.png","datePublished":"2019-11-03T10:48:19Z","dateModified":"2019-11-03T10:48:19Z","author":{"@type":"Person","name":"M.Ozan Unal"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://mozanunal.com/2019/11/img2sh/"},"publisher":{"@type":"Organization","name":"mozanunal.com","logo":{"@type":"ImageObject","url":"https://mozanunal.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mozanunal.com/ accesskey=h title="mozanunal.com (Alt + H)">mozanunal.com</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://mozanunal.com/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://mozanunal.com/contact/ title=Contact><span>Contact</span></a></li><li><a href=https://github.com/mozanunal title=Github><span>Github</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href="https://scholar.google.com/citations?user=u_HbXUUAAAAJ&amp;hl=en" title=GScholar><span>GScholar</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://mozanunal.com/>Home</a>&nbsp;»&nbsp;<a href=https://mozanunal.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Show Images Directly on Terminal: img2sh</h1><div class=post-meta><span title='2019-11-03 10:48:19 +0000 UTC'>November 3, 2019</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;M.Ozan Unal&nbsp;|&nbsp;<a href=https://github.com/mozanunal/mozanunal.github.io/tree/master/content/posts/img2sh.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#img2sh aria-label=Img2sh>Img2sh</a><ul><li><a href=#demo aria-label=Demo>Demo</a></li><li><a href=#story aria-label=Story>Story</a><ul><li><a href=#images aria-label=Images>Images</a></li><li><a href=#colors-in-terminal aria-label="Colors in terminal">Colors in terminal</a></li><li><a href=#parsing-command-line-arguments aria-label="Parsing command-line arguments">Parsing command-line arguments</a></li><li><a href=#image-formats aria-label="Image formats">Image formats</a></li><li><a href=#setuppy aria-label=Setup.py>Setup.py</a></li><li><a href=#uploading-python-package aria-label="Uploading python package">Uploading python package</a></li><li><a href=#optimizing-performance aria-label="Optimizing performance">Optimizing performance</a></li></ul></li><li><a href=#acknowledges aria-label=Acknowledges>Acknowledges</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=img2sh>Img2sh<a hidden class=anchor aria-hidden=true href=#img2sh>#</a></h1><p>Hello there,</p><p><em>In this post, I want to tell a brief story of how I have created a tool named img2sh. It is also my first python package which is published over PyPI. In this very post, I will try to answer questions like:
How is it developed?
What are the challenges?
How should a package created and deployed over PyPI?
Let&rsquo;s continue!</em></p><p>Img2sh is a tool to show images directly on the terminal. For colored images, 256 xterm color support is required. This script basically resizes the image with anti-aliasing and quantized its colors to xterm color pallette. <a href=https://github.com/mozanunal/img2sh>Github repository of the project can be reached from here</a></p><h2 id=demo>Demo<a hidden class=anchor aria-hidden=true href=#demo>#</a></h2><p>Testing the package is super easy. Install using pip and run.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install img2sh --user
</span></span><span class=line><span class=cl>img2sh demo.jpeg
</span></span></code></pre></td></tr></table></div></div><p>Result:</p><p><img loading=lazy src=https://user-images.githubusercontent.com/13440502/52919655-aa89d400-3315-11e9-8c4a-7a7e057b8fa4.png></p><p><strong>Interactive mode</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>img2sh demo.jpeg -w <span class=m>80</span> -i
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>q: quit z: zoom+ x: zoom- c: reset 
</span></span><span class=line><span class=cl>arrow keys <span class=k>for</span> navigation 
</span></span><span class=line><span class=cl>cmd: q
</span></span></code></pre></td></tr></table></div></div><p><img loading=lazy src=https://user-images.githubusercontent.com/13440502/59120360-e34dc780-895d-11e9-8b2a-1d7ea5b25fe4.gif></p><p>For detailed usage arguments:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ python img2sh/cli.py --help
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>usage: cli.py <span class=o>[</span>-h<span class=o>]</span> <span class=o>[</span>-w WIDTH<span class=o>]</span> <span class=o>[</span>-i<span class=o>]</span> Image
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Show images directly on terminal.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>positional arguments:
</span></span><span class=line><span class=cl>  Image                 the directory of the image which will be opened
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>optional arguments:
</span></span><span class=line><span class=cl>  -h, --help            show this <span class=nb>help</span> message and <span class=nb>exit</span>
</span></span><span class=line><span class=cl>  -w WIDTH, --width WIDTH
</span></span><span class=line><span class=cl>                        image width on the terminal
</span></span><span class=line><span class=cl>  -i, --interactive     open image in interactive mode
</span></span></code></pre></td></tr></table></div></div><h2 id=story>Story<a hidden class=anchor aria-hidden=true href=#story>#</a></h2><p>As it can be understood from its name, img2sh is a python app to show images directly in the terminal. I think it could be helpful when connected over ssh to a server with no desktop environment. The images can be examined quickly on the terminal screen.
While the tool was developed, the followings are the challenges I have encountered.</p><h3 id=images>Images<a hidden class=anchor aria-hidden=true href=#images>#</a></h3><p>In the digital world, images are made of pixels. Pixel is the smallest part of the image which can contain only one color. Color changes with the pixel intensity values. To keep it simple, I added a grayscale image to illustrate the pixel concept. It is a quite low resolution, grayscale image. Pixel values are shown in the following image. Pixel intensity values are changing with how far the pixel value close to black or white.</p><p><img loading=lazy src=/images/pixel.png></p><p>Colored images basically work with the same concept. The difference is colored images are usually indicated with 3 different pixel values which are red, blue and green. By this method, the proportion of these color intensity is changed to show different colors on screen.</p><h3 id=colors-in-terminal>Colors in terminal<a hidden class=anchor aria-hidden=true href=#colors-in-terminal>#</a></h3><p>How the coloring mechanism works in the terminal should be figured out to implement this app. I understood clearly how colors are handling in an image using the following link. After that, I have found colored python module which provides support for colored terminal output from python apps. I implement the colors using this library.</p><p><a href=http://jafrog.com/2013/11/23/colors-in-terminal.html>http://jafrog.com/2013/11/23/colors-in-terminal.html</a></p><p><img loading=lazy src=/images/colorcodes.png></p><h3 id=parsing-command-line-arguments>Parsing command-line arguments<a hidden class=anchor aria-hidden=true href=#parsing-command-line-arguments>#</a></h3><p>How should the command line arguments be parsed? Actually it is quite easy with python. Let&rsquo;s examine the next code block:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>argparse</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>description</span><span class=o>=</span><span class=s1>&#39;Show images directly on terminal.&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s2>&#34;Image&#34;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s2>&#34;the directory of the image which will be opened&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;-w&#34;</span><span class=p>,</span> <span class=s2>&#34;--width&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>help</span><span class=o>=</span><span class=s2>&#34;image width on the terminal&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nb>type</span><span class=o>=</span><span class=nb>int</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;-i&#34;</span><span class=p>,</span> <span class=s2>&#34;--interactive&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>default</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>action</span><span class=o>=</span><span class=s1>&#39;store_true&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>help</span><span class=o>=</span><span class=s2>&#34;open image in interactive mode&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>After the initialization, arguments can be used with commands like <code>args.width</code>. The arguments can be configured as mandatory or optional and the type of argument also be specified. This package is a pretty useful and standard package that is widely used most of the python projects.</p><h3 id=image-formats>Image formats<a hidden class=anchor aria-hidden=true href=#image-formats>#</a></h3><p>For further improvement in the project, it should be solved how different image formats can handle. Fortunately, Pillow package can handle various kinds of image formats such as jpeg, png, tiff. This packet can provide pixel values for different image types using the same get_pixel method interface. However, the problem is the dimension of the color values are representing. At standard jpeg a pixel value is represented with 24 bits which are 3 bytes. Each byte value represents a different color channels Red, Blue, and Green. Png differs from the alpha channel. At PNG images, colors are created with 4 bytes. Red, Blue, Green, and Alpha. Alpha is the transparency channel of the image. So the dimension of the pixel is different. But this problem is easily solved in findNearestColor function. In these functions, the dimension of the pixel is handled.</p><p><img loading=lazy src=/images/apple.jpeg></p><h3 id=setuppy>Setup.py<a hidden class=anchor aria-hidden=true href=#setuppy>#</a></h3><p>In this section, I will try to answer the question that how to create a setup.py file which supports also entry point and can be executed without python shell. Setup.py file is used to define the python package metadata and its installation instructions.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>setuptools</span> <span class=kn>import</span> <span class=n>setup</span><span class=p>,</span> <span class=n>find_packages</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;requirements.txt&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>requirements</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>splitlines</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>setup</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=o>=</span><span class=s1>&#39;img2sh&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>version</span><span class=o>=</span><span class=nb>__import__</span><span class=p>(</span><span class=s1>&#39;img2sh&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>__version__</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>install_requires</span><span class=o>=</span><span class=n>requirements</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>description</span><span class=o>=</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Show images directly on terminal using Xterm colors.&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>long_description</span><span class=o>=</span><span class=nb>open</span><span class=p>(</span><span class=s1>&#39;README.md&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>read</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=n>long_description_content_type</span><span class=o>=</span><span class=s1>&#39;text/markdown&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>author</span><span class=o>=</span><span class=s2>&#34;Mehmet Ozan Unal&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>author_email</span><span class=o>=</span><span class=s1>&#39;mehmetozanunal@gmail.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>maintainer</span><span class=o>=</span><span class=s2>&#34;Mehmet Ozan Unal&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>maintainer_email</span><span class=o>=</span><span class=s1>&#39;mehmetozanunal@gmail.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>license</span><span class=o>=</span><span class=s2>&#34;MIT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>packages</span><span class=o>=</span><span class=n>find_packages</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=n>platforms</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;all&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span><span class=o>=</span><span class=s1>&#39;https://github.com/mozanunal/img2sh&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>classifiers</span><span class=o>=</span><span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Development Status :: 4 - Beta&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Operating System :: OS Independent&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Intended Audience :: Developers&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;License :: OSI Approved :: BSD License&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python :: Implementation&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python :: 2&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python :: 2.7&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python :: 3&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python :: 3.4&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python :: 3.5&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python :: 3.6&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Programming Language :: Python :: 3.7&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Topic :: Software Development :: Libraries&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>entry_points</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;console_scripts&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;img2sh=img2sh.cli:main&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>The entry points of the module can be specified with specifying entry_points property of the object. It is defined as console script and first, the name of the executable should be written. It should be mapped to the executable python function. In my case, it is img2sh:cli:main.</p><p>There are useful tricks in the code block also. For example, you do not have to write a whole long description of this file. It can be read from different files like <code>README.md</code>. It is the same for your requirements. It still can be read from requirements.txt but with one condition. These files should be specified in the MANIFEST.in file.</p><p>MANIFEST.in</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>include README.md
</span></span><span class=line><span class=cl>include requirements.txt
</span></span><span class=line><span class=cl>include LICENCE
</span></span></code></pre></td></tr></table></div></div><p>The following link great resource to create a setup.py file. I learned from here. You should check it out.
<a href=https://python-packaging.readthedocs.io/en/latest/everything.html>https://python-packaging.readthedocs.io/en/latest/everything.html</a></p><h3 id=uploading-python-package>Uploading python package<a hidden class=anchor aria-hidden=true href=#uploading-python-package>#</a></h3><p>As you may already know, python packages are usually distributed using PyPI servers. When we use the pip package manager in default, packages are downloaded from this server. In this project, I want that my package can be installed over PyPI. So I created a PyPI account and upload my package there.<br>to Uploading the PyPI package actually quite simple. The following commands are required to create a package from a module and to upload it to PyPI servers.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>python</span> <span class=n>setup</span><span class=o>.</span><span class=n>py</span> <span class=n>sdist</span> <span class=n>bdist_wheel</span>
</span></span><span class=line><span class=cl><span class=n>twine</span> <span class=n>upload</span> <span class=o>--</span><span class=n>repository</span><span class=o>-</span><span class=n>url</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>upload</span><span class=o>.</span><span class=n>pypi</span><span class=o>.</span><span class=n>org</span><span class=o>/</span><span class=n>legacy</span><span class=o>/</span> <span class=n>dist</span><span class=o>/*</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=optimizing-performance>Optimizing performance<a hidden class=anchor aria-hidden=true href=#optimizing-performance>#</a></h3><p>How can be the performance of the tool optimized?
In the first prototype, the code is written with simple logic. This causes too much processing time because of the for loops inside it. The following code part is written to find the nearest color inside a palette. The function loops in pallette and tries to find the smallest distance. In version 2, I implement it using numpy package. The operation executes in vectorial form and its execution time decreased exponentially.
v1</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>findNearestColor</span><span class=p>(</span><span class=n>color</span><span class=p>,</span> <span class=n>pallette</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>distances</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>color</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=n>colorr</span><span class=p>,</span> <span class=n>colorg</span><span class=p>,</span> <span class=n>colorb</span><span class=p>)</span> <span class=o>=</span> <span class=n>color</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>color</span><span class=p>)</span> <span class=o>==</span> <span class=mi>4</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=n>colorr</span><span class=p>,</span> <span class=n>colorg</span><span class=p>,</span> <span class=n>colorb</span><span class=p>,</span> <span class=n>alpha</span><span class=p>)</span> <span class=o>=</span> <span class=n>color</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>alpha</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>None</span>  <span class=c1># pallette.index((255,255,255))</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>pallette</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=n>cr</span><span class=p>,</span> <span class=n>cg</span><span class=p>,</span> <span class=n>cb</span><span class=p>)</span> <span class=o>=</span> <span class=n>c</span>
</span></span><span class=line><span class=cl>        <span class=n>distances</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=n>colorr</span><span class=o>-</span><span class=n>cr</span><span class=p>)</span><span class=o>**</span><span class=mi>2</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=n>colorg</span><span class=o>-</span><span class=n>cg</span><span class=p>)</span><span class=o>**</span><span class=mi>2</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=n>colorb</span><span class=o>-</span><span class=n>cb</span><span class=p>)</span><span class=o>**</span><span class=mi>2</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>distances</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=nb>min</span><span class=p>(</span><span class=n>distances</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><p>v2</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>findNearestColor</span><span class=p>(</span><span class=n>color</span><span class=p>,</span> <span class=n>pallette</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>distances</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>color</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=n>colorr</span><span class=p>,</span> <span class=n>colorg</span><span class=p>,</span> <span class=n>colorb</span><span class=p>)</span> <span class=o>=</span> <span class=n>color</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>color</span><span class=p>)</span> <span class=o>==</span> <span class=mi>4</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=n>colorr</span><span class=p>,</span> <span class=n>colorg</span><span class=p>,</span> <span class=n>colorb</span><span class=p>,</span> <span class=n>alpha</span><span class=p>)</span> <span class=o>=</span> <span class=n>color</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>alpha</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>None</span>  <span class=c1># pallette.index((255,255,255))</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span> <span class=o>=</span> <span class=p>(</span><span class=n>colorr</span><span class=p>,</span> <span class=n>colorg</span><span class=p>,</span> <span class=n>colorb</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>diff</span> <span class=o>=</span> <span class=n>pallette</span> <span class=o>-</span> <span class=n>c</span>
</span></span><span class=line><span class=cl>    <span class=n>diffSum</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sum</span><span class=p>(</span> <span class=n>np</span><span class=o>.</span><span class=n>square</span><span class=p>(</span><span class=n>diff</span><span class=p>),</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>np</span><span class=o>.</span><span class=n>argmin</span><span class=p>(</span><span class=n>diffSum</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># for v1</span>
</span></span><span class=line><span class=cl>real 0m2,618s
</span></span><span class=line><span class=cl>user 0m2,519s
</span></span><span class=line><span class=cl>sys 0m0,080s
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># for v2</span>
</span></span><span class=line><span class=cl>real 0m1,690s
</span></span><span class=line><span class=cl>user 0m1,892s
</span></span><span class=line><span class=cl>sys 0m0,417s
</span></span></code></pre></td></tr></table></div></div><p>Thank you for your interest. See you later&mldr;</p><h2 id=acknowledges>Acknowledges<a hidden class=anchor aria-hidden=true href=#acknowledges>#</a></h2><p>This package is developed using:</p><ul><li><a href=https://pillow.readthedocs.io/en/stable/installation.html>Pillow</a></li><li><a href=https://gitlab.com/dslackw/colored>colored</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://mozanunal.com/tags/linux/>Linux</a></li><li><a href=https://mozanunal.com/tags/yazilim/>Yazilim</a></li><li><a href=https://mozanunal.com/tags/bash-script/>Bash Script</a></li><li><a href=https://mozanunal.com/tags/ubuntu/>Ubuntu</a></li></ul><nav class=paginav><a class=prev href=https://mozanunal.com/2019/11/ecg-signal/><span class=title>« Prev</span><br><span>Digital Filtering of an ECG Signal</span>
</a><a class=next href=https://mozanunal.com/2019/08/yolocolabdemo/><span class=title>Next »</span><br><span>Yolo on Google Colab</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Show Images Directly on Terminal: img2sh on x" href="https://x.com/intent/tweet/?text=Show%20Images%20Directly%20on%20Terminal%3a%20img2sh&amp;url=https%3a%2f%2fmozanunal.com%2f2019%2f11%2fimg2sh%2f&amp;hashtags=linux%2cyazilim%2cbashscript%2cubuntu"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Show Images Directly on Terminal: img2sh on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmozanunal.com%2f2019%2f11%2fimg2sh%2f&amp;title=Show%20Images%20Directly%20on%20Terminal%3a%20img2sh&amp;summary=Show%20Images%20Directly%20on%20Terminal%3a%20img2sh&amp;source=https%3a%2f%2fmozanunal.com%2f2019%2f11%2fimg2sh%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Show Images Directly on Terminal: img2sh on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fmozanunal.com%2f2019%2f11%2fimg2sh%2f&title=Show%20Images%20Directly%20on%20Terminal%3a%20img2sh"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Show Images Directly on Terminal: img2sh on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmozanunal.com%2f2019%2f11%2fimg2sh%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Show Images Directly on Terminal: img2sh on whatsapp" href="https://api.whatsapp.com/send?text=Show%20Images%20Directly%20on%20Terminal%3a%20img2sh%20-%20https%3a%2f%2fmozanunal.com%2f2019%2f11%2fimg2sh%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Show Images Directly on Terminal: img2sh on telegram" href="https://telegram.me/share/url?text=Show%20Images%20Directly%20on%20Terminal%3a%20img2sh&amp;url=https%3a%2f%2fmozanunal.com%2f2019%2f11%2fimg2sh%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Show Images Directly on Terminal: img2sh on ycombinator" href="https://news.ycombinator.com/submitlink?t=Show%20Images%20Directly%20on%20Terminal%3a%20img2sh&u=https%3a%2f%2fmozanunal.com%2f2019%2f11%2fimg2sh%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>© mozanunal</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>