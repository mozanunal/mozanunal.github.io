<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=description content="An example site for the clean and configurable Hugo Classless theme."><link href=/2017/07/google-hash-code-2017/ rel=alternate type=application/rss+xml title=mozanunal.com><link id=theme-style rel=stylesheet href=/css/classless.20c8e211f6768ba295effc3e101a31bfe248db7295bb122355bdf893c6cee731.css integrity="sha256-IMjiEfZ2i6KV7/w+EBoxv+JI23KVuxIjVb34k8bO5zE="><style>pre code,code{-webkit-text-size-adjust:100%;text-size-adjust:100%}img{display:block;margin-left:auto;margin-right:auto}figcaption{display:block;margin-left:auto;margin-right:auto}</style><link rel=stylesheet href=/css/syntax-light.min.d1e9974bf1fe0f3bfae6a7af3a04c1e749276b8efbbf6d3397998585f82443f0.css media="(prefers-color-scheme: light)"><link rel=stylesheet href=/css/syntax-dark.min.22964c63865be9217cedda7ac3dbd0143f8f41b3a0f681ef71e845b18a33a4f3.css media="(prefers-color-scheme: dark)"><title>[TR] Google Hash Code 2017 | mozanunal.com</title><link rel=icon href=/favicon.svg type=image/svg+xml><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon href=/apple-touch-icon.png></head><body><header><div><h1>mozanunal.com</h1><nav><p><a href=/>Home</a> | <a href=/posts/>Posts</a> | <a href=/projects/>Projects</a> | <a href=/papers/>Papers</a> | <a href=/contact/>Contact</a></p></nav></div></header><main><article><header><h1>[TR] Google Hash Code 2017</h1><p><em><time datetime=2017-07-13>July 13, 2017</time></em></p></header><div><p><strong>Herkese Merhabalar</strong>,</p><p>Google bir kaç senedir tüm dünyada programlama ve algoritmalar üzerine bir
yarışma düzenliyor. Bu yarışma kapsamında, yarışmanın katılımcılarına karmaşık
algoritmik problemler veriliyor ve istenilen data kümeleri için yine verilen
formatta sonuçlar oluşturacak algoritmalar yazılması gerekiyor. Son olarak bu
sonuç dosyaları Google&rsquo;ın sistemine yükleniyor ve skor hesaplanıyor. Yarışma 2
aşamadan oluşuyor 1. aşama online eleme. İkinci aşama ise ilk 30&rsquo;a giren gruplar
bir merkezde yarışıyor. Ben de yarışmaya 2016 ve 2017 yıllarında katıldım. Bu
yazıda 2017 yılındaki online eleme sorusu ve pratik sorusu hakkında paylaşımlar
yapmak istiyorum. Bu arada bu soruları 4 saat içerisinde çözememiz gerekiyor bu
nedenle kodlar hızlı yazıldı hata içerebilir fakat her iki kod da google&rsquo;ın
sisteminde oldukça iyi puanlar alıyordu.</p><p>*Yarışmada yazdığımız çözümlere yarışma sorularına ve örnek datalara
<a href=https://github.com/mozanunal/NOP_HashCode2017>bu bağlantıdan</a> ulaşabilirsiniz</p><ul><li><img src=https://i.ytimg.com/vi/BCv_7yXNuP4/maxresdefault.jpg alt></li></ul><h4 id=pratik-sorusu-pizza>Pratik Sorusu: Pizza</h4><p>İlk soru &ldquo;Pizza&rdquo; sorusu. Bu soruda bir pizzayı istenilen maddelerden en az
içerek şekilde parçalamamız isteniyor. Amaç pizzanın mümkün olduğunca fazla
kısmını kullanmak. Pizzamız dikdörtgen ve ilk kısımda pizza sınıfı
oluşturuluyor. Bunun için dosyadan ilk satır okunuyor ve bu satır, sütun ve
içerik bilgisi dosyadan &lsquo;parse&rsquo; edilip sınıfıun özellikleri olarak bir matrise
kopyalanıyor. Kodun devamında ise belirlenen özelliklerde dilimler oluşturmak
üzerine. Dilim geçerli bir dilim mi? Dilim içerisindeki domates, mantar sayısı
kaç şeklinde sorulara cevap veren methodlar var. Dilim hakkında verileri alan
fonksiyonlar eklendikten sonra algoritmayı oluşturduk. Amacı en köşeden
başlayarak gerekli dilimi oluşturduktan sonra sonraki dilime geçiyor. Daha sonra
ikinci bir tur atıp genişletilebilecek dilimlere göz atıyor. Ve eğer dilim
genişletilebilir durumdaysa genişletiyor pizzanın daha büyük bir kısmını
kullanabilmek için. &lsquo;Commit&rsquo; fonksiyonu ile de değişlikler matrise kaydediliyor.
Böylece zaten kullanımda olan parçalar diğer dilimlerde kullanılamıyor. İkinci
tur dolaşımda anlık olarak o dilimi &lsquo;decommit&rsquo; yapıp o çevrede daha büyük bir
dilim oluşturmaya çalışıyor. Son olarak başarı oranını hesaplayan bir fonksiyon
var. Eğer algoritma üzerinde değişiklik yaparsanız bu fonksiyonu kullanarak
performansını deneyebilirsiniz.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>pizza</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=n>file</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fline</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>R</span><span class=p>,</span> <span class=n>C</span><span class=p>,</span> <span class=n>L</span><span class=p>,</span> <span class=n>H</span><span class=p>]</span> <span class=o>=</span> <span class=n>fline</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>L</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>L</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>H</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>H</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>R</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>R</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>C</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>C</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Matrix</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>resultS</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>line</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>Matrix</span><span class=o>.</span><span class=n>append</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span><span class=o>.</span><span class=n>append</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>C</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>Matrix</span><span class=p>[</span><span class=n>index</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>line</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span><span class=p>[</span><span class=n>index</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>calculate</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(&#39;Calculating&#39;)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>R</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>C</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=ow>is</span> <span class=kc>False</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>trycreateSlice</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>index</span><span class=p>,</span><span class=n>curSlice</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>result</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>decommitResult</span><span class=p>(</span><span class=n>curSlice</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                    <span class=n>trySlice</span> <span class=o>=</span> <span class=nb>slice</span><span class=p>(</span><span class=n>curSlice</span><span class=o>.</span><span class=n>r1</span><span class=p>,</span> <span class=n>curSlice</span><span class=o>.</span><span class=n>c1</span><span class=p>,</span> <span class=n>curSlice</span><span class=o>.</span><span class=n>r2</span> <span class=o>+</span> <span class=n>i</span><span class=p>,</span> <span class=n>curSlice</span><span class=o>.</span><span class=n>c2</span> <span class=o>+</span> <span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>testSlice</span><span class=p>(</span><span class=n>trySlice</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=c1>#print &#39;updated&#39;</span>
</span></span><span class=line><span class=cl>                        <span class=bp>self</span><span class=o>.</span><span class=n>result</span><span class=p>[</span><span class=n>index</span><span class=p>]</span><span class=o>.</span><span class=n>r1</span> <span class=o>=</span> <span class=n>trySlice</span><span class=o>.</span><span class=n>r1</span>
</span></span><span class=line><span class=cl>                        <span class=bp>self</span><span class=o>.</span><span class=n>result</span><span class=p>[</span><span class=n>index</span><span class=p>]</span><span class=o>.</span><span class=n>c1</span> <span class=o>=</span> <span class=n>trySlice</span><span class=o>.</span><span class=n>c1</span>
</span></span><span class=line><span class=cl>                        <span class=bp>self</span><span class=o>.</span><span class=n>result</span><span class=p>[</span><span class=n>index</span><span class=p>]</span><span class=o>.</span><span class=n>r2</span> <span class=o>=</span> <span class=n>trySlice</span><span class=o>.</span><span class=n>r2</span>
</span></span><span class=line><span class=cl>                        <span class=bp>self</span><span class=o>.</span><span class=n>result</span><span class=p>[</span><span class=n>index</span><span class=p>]</span><span class=o>.</span><span class=n>c2</span> <span class=o>=</span> <span class=n>trySlice</span><span class=o>.</span><span class=n>c2</span>
</span></span><span class=line><span class=cl>                        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>trySlice</span><span class=o>.</span><span class=n>r1</span><span class=p>,</span> <span class=n>trySlice</span><span class=o>.</span><span class=n>r2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>trySlice</span><span class=o>.</span><span class=n>c1</span><span class=p>,</span> <span class=n>trySlice</span><span class=o>.</span><span class=n>c2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                                <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                        <span class=k>break</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>trycreateSlice</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>r</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(r,c),&#39;start&#39;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>15</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>15</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>trySlice</span> <span class=o>=</span> <span class=nb>slice</span><span class=p>(</span><span class=n>r</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>r</span> <span class=o>+</span> <span class=n>i</span><span class=p>,</span> <span class=n>c</span> <span class=o>+</span> <span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>testSlice</span><span class=p>(</span><span class=n>trySlice</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1># print &#39;finded&#39;</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>commitResult</span><span class=p>(</span><span class=n>trySlice</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>(</span><span class=n>r</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>testSlice</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>slice</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>test</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(((</span><span class=nb>slice</span><span class=o>.</span><span class=n>r2</span> <span class=o>-</span> <span class=nb>slice</span><span class=o>.</span><span class=n>r1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>c2</span> <span class=o>-</span> <span class=nb>slice</span><span class=o>.</span><span class=n>c1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>))</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>H</span><span class=p>)</span> <span class=o>|</span> <span class=p>((</span><span class=nb>slice</span><span class=o>.</span><span class=n>r2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>R</span><span class=p>)</span> <span class=o>|</span> <span class=p>((</span><span class=nb>slice</span><span class=o>.</span><span class=n>c2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>C</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=c1># print &#39;&gt;boundries&#39;</span>
</span></span><span class=line><span class=cl>            <span class=n>a</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>tNum</span><span class=p>,</span> <span class=n>mNum</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>getNumbers</span><span class=p>(</span><span class=nb>slice</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>avaible</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>getAvaible</span><span class=p>(</span><span class=nb>slice</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>avaible</span> <span class=ow>is</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>mNum</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>L</span><span class=p>)</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>tNum</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>L</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                    <span class=n>test</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># print &#39;not Avaible&#39;</span>
</span></span><span class=line><span class=cl>                <span class=n>a</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>test</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getAvaible</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>slice</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>avaible</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>r1</span><span class=p>,</span> <span class=nb>slice</span><span class=o>.</span><span class=n>r2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>c1</span><span class=p>,</span> <span class=nb>slice</span><span class=o>.</span><span class=n>c2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>==</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>avaible</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>avaible</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getNumbers</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>slice</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>tNum</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>mNum</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>r1</span><span class=p>,</span> <span class=nb>slice</span><span class=o>.</span><span class=n>r2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>c1</span><span class=p>,</span> <span class=nb>slice</span><span class=o>.</span><span class=n>c2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>Matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;T&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>tNum</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>Matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;M&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>mNum</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>tNum</span><span class=p>,</span> <span class=n>mNum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>commitResult</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>slice</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>slice</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># print &#39;done&#39;,str(r1)+&#34; &#34;+str(c1)+&#34; &#34;+str(r2)+&#34; &#34;+str(c2)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>r1</span><span class=p>,</span> <span class=nb>slice</span><span class=o>.</span><span class=n>r2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>c1</span><span class=p>,</span> <span class=nb>slice</span><span class=o>.</span><span class=n>c2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decommitResult</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>slice</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># print &#39;done&#39;,str(r1)+&#34; &#34;+str(c1)+&#34; &#34;+str(r2)+&#34; &#34;+str(c2)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>r1</span><span class=p>,</span> <span class=nb>slice</span><span class=o>.</span><span class=n>r2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>c1</span><span class=p>,</span> <span class=nb>slice</span><span class=o>.</span><span class=n>c2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>convertRestultString</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=nb>slice</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>result</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>resultS</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>r1</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34; &#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>c1</span><span class=p>)</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                           <span class=s2>&#34; &#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>r2</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34; &#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=nb>slice</span><span class=o>.</span><span class=n>c2</span><span class=p>))</span>    
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>printSucces</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>  
</span></span><span class=line><span class=cl>        <span class=n>trueC</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>falseC</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>R</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>C</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>Matrix2</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>==</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>trueC</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>falseC</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span> <span class=s2>&#34;Score: &#34;</span><span class=p>,</span> <span class=n>trueC</span><span class=p>,</span> <span class=s2>&#34; / &#34;</span><span class=p>,</span> <span class=n>trueC</span><span class=o>+</span><span class=n>falseC</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>slice</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>r1</span><span class=p>,</span><span class=n>c1</span><span class=p>,</span><span class=n>r2</span><span class=p>,</span><span class=n>c2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>r1</span> <span class=o>=</span> <span class=n>r1</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>c1</span> <span class=o>=</span> <span class=n>c1</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>r2</span> <span class=o>=</span> <span class=n>r2</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>c2</span> <span class=o>=</span> <span class=n>c2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>mypizza</span> <span class=o>=</span> <span class=n>pizza</span><span class=p>(</span><span class=s1>&#39;medium.in&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># print mypizza.Matrix</span>
</span></span><span class=line><span class=cl><span class=c1># print mypizza.Matrix2</span>
</span></span><span class=line><span class=cl><span class=n>mypizza</span><span class=o>.</span><span class=n>calculate</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>mypizza</span><span class=o>.</span><span class=n>convertRestultString</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>s</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>mypizza</span><span class=o>.</span><span class=n>resultS</span><span class=p>))</span><span class=o>+</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>res</span> <span class=ow>in</span> <span class=n>mypizza</span><span class=o>.</span><span class=n>resultS</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>+=</span> <span class=n>res</span> <span class=o>+</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;medium.txt&#34;</span><span class=p>,</span><span class=s2>&#34;w&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>file</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>file</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>mypizza</span><span class=o>.</span><span class=n>printSucces</span><span class=p>()</span>
</span></span></code></pre></div><h4 id=online-eleme-sorusu-streaming-videos>Online eleme sorusu: Streaming Videos</h4><p>Bu soruda ise video izleme gecikmesini azaltmak için videoları &lsquo;cache&rsquo; sunuclara
yerleştirmemiz isteniyor. Yüksek puan almak için toplam gecikme süresi minimum
olmalı. Bu kapsam da ilk aşamada gerekli sınıflar oluşturuldu. Daha sonrasında
bu sınıflar arasında bağlantılar oluşturuldu. Algoritmanın amacı herhangibir bir
cache serverın bütün videoları için latency hesaplayıp sonra bunları skorlayarak
bir optimizasyon yapmak. Burda tabi bağlantıları yapmak biraz zor oldu benim
açımdan. Pizza sorusuyla karşılaştırınca çok daha fazla farklı sınıf olduğunu
farketmişsiniz. Burda çözümü anlatmanın çok bir anlamı olmadığını düşünüyorum.
Daha çok yarışma hakkında bir kaç izlenimimden bahsetmek isterim. Yarışmada
farkettiğiniz üzere aslında tam olarak çözümü belli olmayan sorular soruluyor.
Daha doğrusu mutlak doğru sonuç var ama onu hesaplamak imkansız bir seviyede.
Yani Brute force ile neredeyse sonsuz olasılıkla karşı karşıya kaldığımız
sorular soruluyor. Lütfen soruları çözerken hep onu dikkat alın. Sürekli
algoritmanınızın karmaşıklığına dikkat ederek geliştirin. Ben de bu konuda
yeterince tecrübeli olmadığım için bir kaç kere büyük data kümelerinde sonsuz
işleme doğru giden algoritmalar yazdım. İkinci önerim ise kesinlikle verilen
datalara bakarak çözümünüzü üretin. Çünkü bütün sorularda genelde 3 4 adet
farklı data kümesi verilliyor ve genelde her bir data farklı bir şeyi ölçüyor.
Biri için geliştirdiğiniz algoritma diğerlerine uymayabiliyor. Bugünlük bu kadar
daha ayrıntılı sorularınızı her zaman sorabilirsiniz. Görüşmek üzere</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>scoring</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>video</span><span class=p>,</span><span class=n>score</span><span class=p>):</span>
</span></span><span class=line><span class=cl>       <span class=bp>self</span><span class=o>.</span><span class=n>video</span><span class=o>=</span> <span class=n>video</span>
</span></span><span class=line><span class=cl>       <span class=bp>self</span><span class=o>.</span><span class=n>score</span> <span class=o>=</span> <span class=n>score</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>         <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>score</span> <span class=o>&gt;</span> <span class=n>other</span><span class=o>.</span><span class=n>score</span> <span class=o>+</span> <span class=mi>5</span> 
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>connection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>ep</span><span class=p>,</span><span class=n>cacheNum</span><span class=p>,</span><span class=n>latency</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ep</span> <span class=o>=</span> <span class=n>ep</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cacheNum</span> <span class=o>=</span> <span class=n>cacheNum</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>latency</span> <span class=o>=</span> <span class=n>latency</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>video</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>id</span> <span class=p>,</span> <span class=n>size</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>id</span> <span class=o>=</span> <span class=nb>id</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>size</span> <span class=o>=</span> <span class=n>size</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>cache</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>id</span> <span class=p>,</span> <span class=n>capacity</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>id</span> <span class=o>=</span> <span class=nb>id</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span> <span class=o>=</span> <span class=n>capacity</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>videos</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>endpoints</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>addVideo</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>video</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span> <span class=o>&gt;=</span> <span class=n>video</span><span class=o>.</span><span class=n>size</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>videos</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>video</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span> <span class=o>-</span> <span class=n>video</span><span class=o>.</span><span class=n>size</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>endpoint</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=nb>id</span><span class=p>,</span><span class=n>latencyDataC</span><span class=p>,</span><span class=n>connectionNumber</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>id</span> <span class=o>=</span> <span class=nb>id</span> 
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>latencyDataC</span><span class=o>=</span> <span class=n>latencyDataC</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>connections</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>requests</span> <span class=o>=</span> <span class=p>[]</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>request</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>reqNumber</span><span class=p>,</span> <span class=n>videoID</span><span class=p>,</span> <span class=n>endpointID</span><span class=p>,</span><span class=n>count</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>reqNumber</span> <span class=o>=</span> <span class=n>reqNumber</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>videoID</span> <span class=o>=</span> <span class=n>videoID</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>endpointID</span> <span class=o>=</span> <span class=n>endpointID</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>count</span> <span class=o>=</span> <span class=n>count</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>solver</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>videos</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>eps</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>requests</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>caches</span><span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=n>file</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fline</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>V</span><span class=p>,</span> <span class=n>E</span><span class=p>,</span> <span class=n>R</span><span class=p>,</span> <span class=n>C</span><span class=p>,</span> <span class=n>X</span><span class=p>]</span> <span class=o>=</span> <span class=n>fline</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>videoCount</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>V</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>indexC</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>int</span><span class=p>(</span><span class=n>C</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=n>c</span> <span class=o>=</span> <span class=n>cache</span><span class=p>(</span><span class=n>indexC</span><span class=p>,</span> <span class=nb>int</span><span class=p>(</span><span class=n>X</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>caches</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fline</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>size</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>fline</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=n>v</span> <span class=o>=</span> <span class=n>video</span><span class=p>(</span><span class=n>index</span><span class=p>,</span><span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>videos</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>currentEpID</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>int</span><span class=p>(</span><span class=n>E</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=n>fline</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>[</span><span class=n>latencyDataC</span><span class=p>,</span> <span class=n>connectionNumber</span><span class=p>]</span> <span class=o>=</span> <span class=n>fline</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>ep</span> <span class=o>=</span> <span class=n>endpoint</span><span class=p>(</span><span class=n>currentEpID</span><span class=p>,</span><span class=nb>int</span><span class=p>(</span><span class=n>latencyDataC</span><span class=p>),</span><span class=nb>int</span><span class=p>(</span><span class=n>connectionNumber</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>eps</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>ep</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>int</span><span class=p>(</span><span class=n>connectionNumber</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span><span class=n>cNUm</span><span class=p>,</span><span class=n>latency</span><span class=p>]</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span> <span class=o>=</span> <span class=n>connection</span><span class=p>(</span><span class=n>ep</span><span class=p>,</span><span class=nb>int</span><span class=p>(</span><span class=n>cNUm</span><span class=p>),</span><span class=nb>int</span><span class=p>(</span><span class=n>latency</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>ep</span><span class=o>.</span><span class=n>connections</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>caches</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>cNUm</span><span class=p>)]</span><span class=o>.</span><span class=n>endpoints</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>eps</span><span class=p>[</span><span class=n>currentEpID</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>curReqId</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>int</span><span class=p>(</span><span class=n>R</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=p>[</span><span class=n>reqVideoID</span><span class=p>,</span><span class=n>reqEpID</span><span class=p>,</span><span class=n>reqCount</span><span class=p>]</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>r</span> <span class=o>=</span> <span class=n>request</span><span class=p>(</span><span class=n>curReqId</span><span class=p>,</span><span class=nb>int</span><span class=p>(</span><span class=n>reqVideoID</span><span class=p>),</span><span class=nb>int</span><span class=p>(</span><span class=n>reqEpID</span><span class=p>),</span><span class=nb>int</span><span class=p>(</span><span class=n>reqCount</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>requests</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>eps</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>reqEpID</span><span class=p>)]</span><span class=o>.</span><span class=n>requests</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getvideosofcache</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>cache</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#print &#34;cache id:&#34;, cache,</span>
</span></span><span class=line><span class=cl>        <span class=n>scoreList</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>videos</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>s</span> <span class=o>=</span> <span class=n>scoring</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>scoreList</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>ep</span> <span class=ow>in</span> <span class=n>cache</span><span class=o>.</span><span class=n>endpoints</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>req</span> <span class=ow>in</span> <span class=n>ep</span><span class=o>.</span><span class=n>requests</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>curLat</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>getlatency</span><span class=p>(</span><span class=n>cache</span><span class=p>,</span><span class=n>ep</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>score</span> <span class=o>=</span> <span class=p>(</span><span class=n>req</span><span class=o>.</span><span class=n>count</span><span class=o>*</span><span class=p>(</span><span class=n>ep</span><span class=o>.</span><span class=n>latencyDataC</span><span class=o>-</span><span class=n>curLat</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=c1>#print &#34;videoid : &#34;, req.videoID, &#34;ep: &#34;, ep.id, &#34;req count&#34;, req.count, &#34;dc latiency: &#34;, ep.latencyDataC, &#34;connect latency&#34;,curLat, &#34;puan&#34;, score)</span>
</span></span><span class=line><span class=cl>                <span class=n>scoreList</span><span class=p>[</span><span class=n>req</span><span class=o>.</span><span class=n>videoID</span><span class=p>]</span><span class=o>.</span><span class=n>score</span> <span class=o>+=</span> <span class=n>score</span>
</span></span><span class=line><span class=cl>                <span class=c1>#print &#34;videoid : &#34;, req.videoID, scoreList[req.videoID].score</span>
</span></span><span class=line><span class=cl>        <span class=n>scoreList</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1>#for a in scoreList:</span>
</span></span><span class=line><span class=cl>            <span class=c1>#print a.video.id, a.score, a.video.size</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>scoreList</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getlatency</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>cache</span><span class=p>,</span><span class=n>endpoint</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>ali</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>endpoint</span><span class=o>.</span><span class=n>connections</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>i</span><span class=o>.</span><span class=n>cacheNum</span> <span class=o>==</span> <span class=n>cache</span><span class=o>.</span><span class=n>id</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ali</span> <span class=o>=</span> <span class=n>i</span><span class=o>.</span><span class=n>latency</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ali</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>solve</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>curCache</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>caches</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span> <span class=n>curCache</span><span class=o>.</span><span class=n>id</span>
</span></span><span class=line><span class=cl>            <span class=n>scoreList</span> <span class=o>=</span> <span class=n>mysolver</span><span class=o>.</span><span class=n>getvideosofcache</span><span class=p>(</span><span class=n>curCache</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>curVideo</span> <span class=ow>in</span> <span class=n>scoreList</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>curVideo</span><span class=o>.</span><span class=n>score</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span>
</span></span><span class=line><span class=cl>                <span class=n>curCache</span><span class=o>.</span><span class=n>addVideo</span><span class=p>(</span><span class=n>curVideo</span><span class=o>.</span><span class=n>video</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>result</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>caches</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>curCache</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>caches</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>+=</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>curCache</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>curVideo</span> <span class=ow>in</span> <span class=n>curCache</span><span class=o>.</span><span class=n>videos</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>result</span> <span class=o>+=</span> <span class=s2>&#34; &#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>curVideo</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>#print result </span>
</span></span><span class=line><span class=cl>        <span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;videos_worth_spreading.txt&#34;</span><span class=p>,</span><span class=s2>&#34;w&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>file</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>file</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>mysolver</span> <span class=o>=</span> <span class=n>solver</span><span class=p>(</span><span class=s1>&#39;videos_worth_spreading.in&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mysolver</span><span class=o>.</span><span class=n>solve</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>mysolver</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
</span></span></code></pre></div></div></article></main><footer><p>&copy; 2025 M.Ozan Unal.</p></footer></body><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\\\[",right:"\\\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\\\(",right:"\\\\)",display:!1}],throwOnError:!1})'></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-007KSW65JL"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-007KSW65JL")}</script></html>